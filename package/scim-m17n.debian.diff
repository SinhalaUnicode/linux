--- scim-m17n-0.2.2.orig/src/scim_m17n_imengine.cpp
+++ scim-m17n-0.2.2/src/scim_m17n_imengine.cpp
@@ -28,6 +28,7 @@
 #define Uses_SCIM_LOOKUP_TABLE
 #define Uses_SCIM_CONFIG_BASE
 #define Uses_STL_MAP
+#define Uses_C_STRING
 
 #ifdef HAVE_CONFIG_H
   #include <config.h>
--- scim-m17n-0.2.2.orig/debian/control
+++ scim-m17n-0.2.2/debian/control
@@ -0,0 +1,22 @@
+Source: scim-m17n
+Section: utils
+Priority: optional
+Maintainer: Harshula Jayasuriya <harshula@gmail.com>
+Uploaders: Osamu Aoki <osamu@debian.org>, Ming Hua <minghua-guest@users.alioth.debian.org>
+Build-Depends: debhelper (>= 5.0.0), autotools-dev, pkg-config, libscim-dev (>= 1.4.6), libm17n-dev
+Standards-Version: 3.7.3
+
+Package: scim-m17n
+Architecture: any
+Depends: ${shlibs:Depends}, ${misc:Depends}, scim
+Description: M17N Input Method Engine for SCIM
+ SCIM (Smart Common Input Method) is an input method (IM) platform.
+ .
+ M17N (Multilingualization) Input Method Engine enables SCIM to input 
+ many non-latin characters from the keyboard using libm17n library.
+ .
+ Author: James Su <suzhe@tsinghua.org.cn>
+ .
+ For details about SCIM, please see the description of package scim.
+ .
+  Homepage: http://www.scim-im.org/
--- scim-m17n-0.2.2.orig/debian/compat
+++ scim-m17n-0.2.2/debian/compat
@@ -0,0 +1 @@
+5
--- scim-m17n-0.2.2.orig/debian/watch
+++ scim-m17n-0.2.2/debian/watch
@@ -0,0 +1,2 @@
+version=3
+http://sf.net/scim/scim-m17n-(.*)\.tar\.gz
--- scim-m17n-0.2.2.orig/debian/docs
+++ scim-m17n-0.2.2/debian/docs
@@ -0,0 +1,3 @@
+AUTHORS
+README
+THANKS
--- scim-m17n-0.2.2.orig/debian/copyright
+++ scim-m17n-0.2.2/debian/copyright
@@ -0,0 +1,35 @@
+This package was debianized by harshula <harshula@gmail.com> on
+Sun, 20 May 2007 14:16:42 +1000.
+
+It was downloaded from http://prdownloads.sourceforge.net/scim/scim-m17n-0.2.2.tar.gz?download
+
+Home Page:
+
+    http://www.scim-im.org/
+
+Upstream Author:
+
+    James Su <suzhe@tsinghua.org.cn>
+
+Copyright:
+
+    Copyright (c) 2004 James Su <suzhe@tsinghua.org.cn>
+
+License:
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
+
+The Debian packaging is (C) 2007, harshula <harshula@gmail.com> and
+is licensed under the GPL, see `/usr/share/common-licenses/GPL'.
--- scim-m17n-0.2.2.orig/debian/changelog
+++ scim-m17n-0.2.2/debian/changelog
@@ -0,0 +1,54 @@
+scim-m17n (0.2.2-3) unstable; urgency=low
+
+  * Adding ${misc:Depends} as per debhelper(7). (Closes: #438703)
+  * Prepare package for gcc 4.3 by adding #include (Closes: #454894)
+  * Update the uploader's email address as per:
+    http://bugs.debian.org/cgi-bin/bugreport.cgi?msg=20;bug=454894
+  * Update Standards-Version to Debian Policy 3.7.3, no changes required.
+
+ -- Harshula Jayasuriya <harshula@gmail.com>  Tue, 18 Dec 2007 11:15:59 +1100
+
+scim-m17n (0.2.2-2) unstable; urgency=low
+
+  * Updating the maintainer/uploader fields as per:
+    http://bugs.debian.org/cgi-bin/bugreport.cgi?msg=37;bug=414247
+  * Remove ${misc:Depends}.
+
+ -- Harshula Jayasuriya <harshula@gmail.com>  Sat, 18 Aug 2007 15:34:20 +1000
+
+scim-m17n (0.2.2-1) unstable; urgency=low
+
+  * New Upstream release. (Closes: #329327, #414247)
+  * Repackage to reduce the size of the unnecessarily large diff.
+
+ -- Harshula Jayasuriya <harshula@gmail.com>  Sat, 26 May 2007 21:26:34 +1000
+
+scim-m17n (0.1.3-3) unstable; urgency=low
+
+  * Adapt to the $(moduledir) change in scim 1.4.6.  (Closes: #424014)
+    - Bump build dependency to scim (>= 1.4.6-1).
+    - Drop 10scim-plugin-module-install-dir dpatch.
+    - Don't hardcode scim binary version in debian/install and debian/rules
+      anymore, so that binary NMU for an scim module ABI change is possible.
+  * Add dependency on scim.  All IM module packages should depend on scim so
+    that users only need to install the module package.
+  * Update various upstream information, such as website URL, released tarball
+    location, as well as the debian/watch file.
+  * Update FSF mailing address.
+  * Upgrade to policy version 3.7.2.2, no actual changes needed.
+
+ -- Ming Hua <minghua@rice.edu>  Sun, 20 May 2007 04:19:13 -0500
+
+scim-m17n (0.1.3-2) unstable; urgency=low
+
+  * Rebuilt against scim 1.4 ABI per Ming Hua. Closes: #335957
+  * Added Ming Hua to uploades.
+
+ -- Osamu Aoki <osamu@debian.org>  Sat, 17 Dec 2005 10:29:31 +0900
+
+scim-m17n (0.1.3-1) unstable; urgency=low
+
+  * Initial release, based on upstream version (0.1.3) (closes: #278086)
+
+ -- Osamu Aoki <osamu@debian.org>  Thu, 21 Oct 2004 23:40:00 +0200
+
--- scim-m17n-0.2.2.orig/debian/rules
+++ scim-m17n-0.2.2/debian/rules
@@ -0,0 +1,107 @@
+#!/usr/bin/make -f
+# -*- makefile -*-
+# Sample debian/rules that uses debhelper.
+# This file was originally written by Joey Hess and Craig Small.
+# This file was modified by Harshula Jayasuriya
+
+# Uncomment this to turn on verbose mode.
+#export DH_VERBOSE=1
+
+INSTALLDIR = debian/scim-m17n
+
+# These are used for cross-compiling and for saving the configure script
+# from having to guess our platform (since we know it already)
+DEB_HOST_GNU_TYPE   ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
+DEB_BUILD_GNU_TYPE  ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
+
+
+CFLAGS = -Wall -g
+CXXFLAGS = -Wall -g
+
+ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
+	CFLAGS += -O0
+	CXXFLAGS += -O0
+else
+	CFLAGS += -O2
+	CXXFLAGS += -O2
+endif
+
+config.status: configure
+	dh_testdir
+	# Add here commands to configure the package.
+ifneq "$(wildcard /usr/share/misc/config.sub)" ""
+	cp -f /usr/share/misc/config.sub config.sub
+endif
+ifneq "$(wildcard /usr/share/misc/config.guess)" ""
+	cp -f /usr/share/misc/config.guess config.guess
+endif
+	./configure --host=$(DEB_HOST_GNU_TYPE) \
+		--build=$(DEB_BUILD_GNU_TYPE) \
+		--prefix=/usr \
+		--mandir=\$${prefix}/share/man \
+		--infodir=\$${prefix}/share/info \
+		CFLAGS="$(CFLAGS)" \
+		CXXFLAGS="$(CXXFLAGS)" \
+		LDFLAGS="-Wl,-z,defs" \
+		--disable-static
+
+
+build: build-stamp
+build-stamp:  config.status
+	dh_testdir
+
+	# Add here commands to compile the package.
+	$(MAKE)
+
+	touch $@
+
+clean:
+	dh_testdir
+	dh_testroot
+	rm -f build-stamp 
+
+	# Add here commands to clean up after the build process.
+	[ ! -f Makefile ] || $(MAKE) distclean
+ifneq "$(wildcard /usr/share/misc/config.sub)" ""
+	rm -f config.sub
+endif
+ifneq "$(wildcard /usr/share/misc/config.guess)" ""
+	rm -f config.guess
+endif
+
+	dh_clean 
+
+install: build
+	dh_testdir
+	dh_testroot
+	dh_clean -k 
+	dh_installdirs
+
+	$(MAKE) DESTDIR=$(CURDIR)/$(INSTALLDIR) install
+	find $(INSTALLDIR) -type f -name '*.la' -exec rm -f {} \;
+
+
+# Build architecture-independent files here.
+binary-indep: build install
+# We have nothing to do by default.
+
+# Build architecture-dependent files here.
+binary-arch: build install
+	dh_testdir
+	dh_testroot
+	dh_installchangelogs ChangeLog
+	dh_installdocs
+	dh_installexamples
+	dh_installman
+	dh_link
+	dh_strip
+	dh_compress
+	dh_fixperms
+	dh_installdeb
+	dh_shlibdeps
+	dh_gencontrol
+	dh_md5sums
+	dh_builddeb
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary install 
