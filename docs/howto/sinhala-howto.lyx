#LyX 1.5.5 created this file. For more info see http://www.lyx.org/
\lyxformat 276
\begin_document
\begin_header
\textclass docbook
\language english
\inputencoding auto
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\paperfontsize default
\spacing single
\papersize a4paper
\use_geometry false
\use_amsmath 1
\use_esint 0
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\secnumdepth 3
\tocdepth 3
\paragraph_separation skip
\defskip medskip
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\author "" 
\end_header

\begin_body

\begin_layout Title
Enabling Sinhala in GNU/Linux HOWTO
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Standard

<authorgroup>
\end_layout

\begin_layout Standard

<author>
\end_layout

\begin_layout Standard

<firstname>Harshula</firstname>
\end_layout

\begin_layout Standard

<surname>Jayasuriya</surname>
\end_layout

\begin_layout Standard

<affiliation>
\end_layout

\begin_layout Standard

<address>
\end_layout

\begin_layout Standard

<email>harshula&nbsp;at&nbsp;gmail&nbsp;dot&nbsp;com</email>
\end_layout

\begin_layout Standard

<address>
\end_layout

\begin_layout Standard

</affiliation>
\end_layout

\begin_layout Standard

</author>
\end_layout

\begin_layout Standard

</authorgroup>
\end_layout

\end_inset


\end_layout

\begin_layout RevisionHistory

\end_layout

\begin_layout Revision
0.7
\end_layout

\begin_layout Date
2008/09/01
\end_layout

\begin_layout Revision
0.6
\end_layout

\begin_layout Date
2007/05/13
\end_layout

\begin_layout Revision
0.5
\end_layout

\begin_layout Date
2006/11/20
\end_layout

\begin_layout Revision
0.4
\end_layout

\begin_layout Date
2006/04/03
\end_layout

\begin_layout Revision
0.3
\end_layout

\begin_layout Date
2005/03/06 
\end_layout

\begin_layout Revision
0.2
\end_layout

\begin_layout Date
2004/10/07
\end_layout

\begin_layout Revision
0.1
\end_layout

\begin_layout Date
2004/06/05
\end_layout

\begin_layout Section
About
\begin_inset LatexCommand label
name "About"

\end_inset


\end_layout

\begin_layout Standard
Sinhala is the main language of Sri Lanka.
 This guide describes the level of Sinhala support available in GNU/Linux.
 It also describes how to enable improved Sinhala support and the tasks
 that still require attention.
\end_layout

\begin_layout Standard
This guide is GNOME and Debian/Ubuntu centric.
 Most of the explanations and suggestions should also be applicable to other
 distributions.
\end_layout

\begin_layout Section
Introduction
\begin_inset LatexCommand label
name "Introduction"

\end_inset


\end_layout

\begin_layout Standard
The level of Sinhala support in GNU/Linux distributions has improved significant
ly.
 On most modern distributions, simply installing a Unicode Sinhala font
 should be sufficient to read and type in Sinhala.
\end_layout

\begin_layout Standard
Debian 4.0 (Etch) and Ubuntu 7.04 (Feisty) ship with Unicode Sinhala (SLS1134)
 support on the desktop.
 This includes Sinhala support in the web browser, Firefox, and the office
 suite, Open Office.
 Both distributions ship with a phonetic Sinhala keyboard layout and a basic,
 incomplete, Unicode Sinhala font [
\begin_inset LatexCommand ref
reference "Enable-Fonts"

\end_inset

].
\end_layout

\begin_layout Standard
To improve the level of Sinhala support in Debian and Ubuntu, simply follow
 the instructions in this document [
\begin_inset LatexCommand ref
reference "Enabling-Sinhala"

\end_inset

].
\end_layout

\begin_layout Subsection
Learn about Sinhala
\begin_inset LatexCommand label
name "Intro-Learn-about-Sinhala"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://en.wikipedia.org/wiki/Sinhala"
target "http://en.wikipedia.org/wiki/Sinhala"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.speaksinhala.com"
target "http://www.speaksinhala.com"

\end_inset


\end_layout

\begin_layout Itemize
Silva, A.W.L.
 (2003).
 
\emph on
SINHALESE for Beginners
\emph default
.
 Sri Lanka: Pubudu Printers Kandana
\end_layout

\begin_deeper
\begin_layout Itemize
The first chapter has excellent coverage of the Sinhala letters.
\end_layout

\end_deeper
\begin_layout Subsection
Learn about Unicode
\begin_inset LatexCommand label
name "Intro-Learn-about-Unicode"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.unicode.org"
target "http://www.unicode.org"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "UTF-8 and Unicode FAQ for Unix/Linux"
target "http://www.cl.cam.ac.uk/~mgk25/unicode.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Unicode Technical Standard #10"
target "http://unicode.org/reports/tr10/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Unicode Normalization Forms"
target "http://unicode.org/reports/tr15/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Unicode Collation Charts"
target "http://unicode.org/charts/collation/"

\end_inset


\end_layout

\begin_layout Subsection
Learn about Standards
\begin_inset LatexCommand label
name "Intro-Learn-about-Standards"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "ISO 639-2: Codes for the Representation of Names of Languages"
target "http://www.loc.gov/standards/iso639-2/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "ISO 3166: English country names and code elements"
target "http://www.iso.org/iso/en/prods-services/iso3166ma/index.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "ISO 15924: Codes for the representation of names of scripts"
target "http://www.unicode.org/iso15924/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Unicode Sinhala codepoints"
target "http://www.unicode.org/charts/PDF/U0D80.pdf"

\end_inset


\end_layout

\begin_layout Itemize
SLS1134 - Sinhala Character Code for Information Interchange (SCCII) (not
 available online)
\end_layout

\begin_layout Itemize
SLS1134 - Sinhala Character Code for Information Interchange (SCCII) - Part
 1: Collation Sequence (not available online)
\end_layout

\begin_layout Itemize
SLS1134 - Sinhala Character Code for Information Interchange (SCCII) - Part
 2 : Requirements and Methods of Test (not available online)
\end_layout

\begin_layout Subsection
Mailing Lists
\begin_inset LatexCommand label
name "Intro-Mailing-Lists"

\end_inset


\end_layout

\begin_layout Standard
The Sinhala GNU/Linux users and developers use these mailing lists for announcem
ents, discussions, debugging and reviews.
\end_layout

\begin_layout Standard
Therefore, the archives of the mailing lists contain very useful information
 for both new users and new developers.
\end_layout

\begin_layout Standard
Please search the archives for the answers to your questions before posting
 to the mailing lists.
\end_layout

\begin_layout Subsubsection
Sinhala Technical List (in English for developers)
\end_layout

\begin_layout Itemize
Archive: 
\begin_inset LatexCommand htmlurl
name "http://sourceforge.net/mailarchive/forum.php?forum_name=sinhala-technical"
target "http://sourceforge.net/mailarchive/forum.php?forum_name=sinhala-technical"

\end_inset


\end_layout

\begin_layout Itemize
Subscribe: 
\begin_inset LatexCommand htmlurl
name "https://lists.sourceforge.net/lists/listinfo/sinhala-technical"
target "https://lists.sourceforge.net/lists/listinfo/sinhala-technical"

\end_inset


\end_layout

\begin_layout Subsubsection
Sinhala Unicode List (in Sinhala for developers and users)
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://groups.google.com/group/sinhala-unicode"
target "http://groups.google.com/group/sinhala-unicode"

\end_inset


\end_layout

\begin_layout Subsection
Contributors
\begin_inset LatexCommand label
name "Intro-Contributors"

\end_inset


\end_layout

\begin_layout Standard
Many individuals have contributed to the project that began in 2003 on an
 
\begin_inset LatexCommand htmlurl
name "lug.lk"
target "http://www.lug.lk/"

\end_inset

 mailing list.
 Some of the notable contributors are:
\end_layout

\begin_layout Itemize
Dushara Jayasinghe
\end_layout

\begin_layout Itemize
Harshula Jayasuriya
\end_layout

\begin_layout Itemize
Chamath Keppitiyagama
\end_layout

\begin_layout Itemize
Anuradha Ratnaweera
\end_layout

\begin_layout Itemize
Harsha Senanayake
\end_layout

\begin_layout Itemize
Naoto Takahashi
\end_layout

\begin_layout Section
Enabling Sinhala
\begin_inset LatexCommand label
name "Enabling-Sinhala"

\end_inset


\end_layout

\begin_layout Subsection
Short Answer
\begin_inset LatexCommand label
name "sec:Enabling-Sinhala-Short"

\end_inset


\end_layout

\begin_layout Subsubsection
Debian 5.0 (Lenny) and Above
\end_layout

\begin_layout Enumerate
As root/superuser run,
\end_layout

\begin_deeper
\begin_layout Code
apt-get install ttf-sinhala-lklug scim scim-gtk2-immodule im-switch scim-m17n
 m17n-db m17n-contrib
\end_layout

\end_deeper
\begin_layout Enumerate
From your user account (i.e.
 not root) run,
\end_layout

\begin_deeper
\begin_layout Code
im-switch -s scim-immodule
\end_layout

\end_deeper
\begin_layout Enumerate
Logout and login again.
 Environment variables need to be set/updated (NO NEED TO REBOOT)
\end_layout

\begin_layout Subsubsection
Ubuntu 8.10 (Intrepid) and Above
\end_layout

\begin_layout Enumerate
The Universe repository should already be enabled (
\begin_inset LatexCommand htmlurl
name "https://wiki.ubuntu.com/AlwaysEnableUniverseMultiverse"
target "https://wiki.ubuntu.com/AlwaysEnableUniverseMultiverse"

\end_inset

).
 If not, first enable the Universe repository.
\end_layout

\begin_layout Enumerate
As root/superuser run,
\end_layout

\begin_deeper
\begin_layout Code
apt-get install ttf-sinhala-lklug scim scim-gtk2-immodule im-switch scim-m17n
 m17n-db m17n-contrib language-pack-si-base
\end_layout

\end_deeper
\begin_layout Enumerate
From your user account (i.e.
 not root) run,
\end_layout

\begin_deeper
\begin_layout Code
im-switch -s scim-immodule
\end_layout

\end_deeper
\begin_layout Enumerate
Logout and login again.
 Environment variables need to be set/updated (NO NEED TO REBOOT)
\end_layout

\begin_layout Subsubsection
How to test
\end_layout

\begin_layout Enumerate
Visit 
\begin_inset LatexCommand htmlurl
name "http://si.wikipedia.org/"
target "http://si.wikipedia.org/"

\end_inset

 and see if the Sinhala letters render correctly.
\end_layout

\begin_layout Enumerate
Copy and paste some of the content from Sinhala Wikipedia to Open Office
 Writer.
 Then highlight the Sinhala text and choose the LKLUG font to display them.
\end_layout

\begin_layout Enumerate
To test typing, press Control-space whilst you are running a GNOME application.
 Then select one of the Sinhala input methods.
\end_layout

\begin_layout Subsection
Long Answer
\begin_inset LatexCommand label
name "sec:Enabling-Sinhala-Long"

\end_inset


\end_layout

\begin_layout Standard
First follow all the instructions in 
\begin_inset LatexCommand ref
reference "sec:Enabling-Sinhala-Short"

\end_inset

.
\end_layout

\begin_layout Standard
The latest Sinhala patched packages and programs can be found at 
\begin_inset LatexCommand htmlurl
name "http://sinhala.sourceforge.net/"
target "http://sinhala.sourceforge.net/"

\end_inset

.
\end_layout

\begin_layout Subsubsection
Fonts
\begin_inset LatexCommand label
name "Enable-Fonts"

\end_inset


\end_layout

\begin_layout Standard
If your distribution does not contain a Sinhala font package, then download
 a Unicode Sinhala font:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://sinhala.sourceforge.net/files/lklug.ttf"
target "http://sinhala.sourceforge.net/files/lklug.ttf"

\end_inset


\end_layout

\begin_layout Standard
If you are using a modern GNU/Linux version and it has fontconfig installed,
 all you have to do is make a .fonts directory in your home directory:
\end_layout

\begin_layout Code
mkdir ~/.fonts
\end_layout

\begin_layout Standard
and copy the True/Open Type font into that directory.
\end_layout

\begin_layout Standard
If you want to make the font available to all users of the system, become
 root and copy the font to:
\end_layout

\begin_layout Code
/usr/share/fonts
\end_layout

\begin_layout Standard
In both the above cases, run:
\end_layout

\begin_layout Code
fc-cache -fv
\end_layout

\begin_layout Standard
To check which font file provides the Sinhala support, run:
\end_layout

\begin_layout Code
fc-list :lang=si file
\end_layout

\begin_layout Standard
Immediately you'll be able to read Unicode Sinhala in these programs (You
 may have to restart the program.):
\end_layout

\begin_layout Itemize
Anything gtk2 based
\end_layout

\begin_deeper
\begin_layout Itemize
evolution
\end_layout

\begin_layout Itemize
gedit
\end_layout

\begin_layout Itemize
gucharmap
\end_layout

\begin_layout Itemize
Firefox/Mozilla (built with gtk2, FreeType2 and Pango support)
\end_layout

\end_deeper
\begin_layout Standard
If you have Pango 1.8.2 and greater, you will have full SLS1134 Sinhala support.
\end_layout

\begin_layout Subsubsection
Input Methods
\begin_inset LatexCommand label
name "Enable-Input-Methods"

\end_inset


\end_layout

\begin_layout Standard
There are a number of different input method infrastructures available on
 GNU/Linux.
 In general, first try m17n/SCIM and as a last resort XKB.
\end_layout

\begin_layout Standard

\series medium
To test multi-lingual input methods in gtk2 based programs, run:
\end_layout

\begin_layout Code
gedit
\end_layout

\begin_layout Standard

\series medium
To check which input methods are available for gtk2 based programs, run:
\end_layout

\begin_layout Code
/usr/bin/gtk-query-immodules-2.0
\end_layout

\begin_layout Standard

\series medium
which comes with gtk2.
\end_layout

\begin_layout Standard
To switch between input method systems, run:
\end_layout

\begin_layout Code
im-switch -c
\end_layout

\begin_layout Subsubsection
Surrounding Text Support.
\end_layout

\begin_layout Standard
Surrounding text support allows the creation of user-friendly input methods.
 Input methods that do not use surrounding text support are generally less
 user-friendly.
\end_layout

\begin_layout Standard
Some applications do not fully support surrounding text.
 In these circumstances you may want use an input method that uses pre-edit.
 e.g.
 The m17n Wijesekera (si-wijesekera) requires surrounding text support,
 however, there is a pre-edit version (si-wijesekera-preedit) that does
 not.
\end_layout

\begin_layout Subsubsection
KDE Users
\end_layout

\begin_layout Standard
Those who predominately use KDE and/or KDE applications may find difficulties
 when using SCIM directly.
 If so, then try using scim-bridge,
\end_layout

\begin_layout Code
im-switch -s scim-bridge
\end_layout

\begin_layout Standard
Note, scim-bridge currently does not have surrounding text support.
\end_layout

\begin_layout Subsubsection
m17n Phonetic Static Keyboard Layout
\end_layout

\begin_layout Itemize
In the m17n-contrib package.
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"

\end_inset


\end_layout

\begin_layout Subsubsection
m17n Phonetic Dynamic Keyboard Layout
\end_layout

\begin_layout Itemize
In the m17n-contrib package.
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_4.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_4.html"

\end_inset


\end_layout

\begin_layout Subsubsection
m17n Transliteration Keyboard Layout
\end_layout

\begin_layout Itemize
In the m17n-contrib package.
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/transliteration/sinhala-transliteration_5.html"
target "http://www.nongnu.org/sinhala/doc/transliteration/sinhala-transliteration_5.html"

\end_inset


\end_layout

\begin_layout Subsubsection
XKB Phonetic Static Keyboard Layout
\end_layout

\begin_layout Standard
To familiarise yourself with this keyboard layout, read:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"

\end_inset


\end_layout

\begin_layout Standard
The X Keyboard Extension only allows one-to-one mappings between keys and
 codepoints, therefore rakaaranshaya, yansaya and repaya, which consist
 of multiple codepoints, have to be manually constructed.
 See the comments in the Sinhala X Keyboard Extension layout file.
\end_layout

\begin_layout Paragraph
Xorg 7.3 and Above
\end_layout

\begin_layout Standard
The aforementioned layout is already included in distributions that ship
 with xkeyboard-config (xkb-data) 0.6 and above.
\end_layout

\begin_layout Standard
The file can be found at:
\end_layout

\begin_layout Code
/usr/share/X11/xkb/symbols/lk
\end_layout

\begin_layout Standard
The latest version of the keyboard layout can be downloaded from CVS:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "lk"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/keymaps/lk?root=sinhala"

\end_inset


\end_layout

\begin_layout Standard
Read the comments in the lk file to see how to create rakaaranshaya, yansaya
 and repaya.
\end_layout

\begin_layout Standard
The window manager should come with a program which allows the user to choose
 multiple keyboard layouts.
\end_layout

\begin_layout Standard
In the example below I have chosen the SHIFT keys to switch between the
 Sinhala phonetic layout and the US QWERTY layout.
 Hold one of the SHIFT keys down and then press the other SHIFT key, this
 should toggle between the layouts.
\end_layout

\begin_layout Standard
Using the GUI in GNOME:
\end_layout

\begin_layout Enumerate
Run:
\end_layout

\begin_deeper
\begin_layout Code
gnome-keyboard-properties
\end_layout

\end_deeper
\begin_layout Enumerate
Choose the 
\begin_inset Quotes eld
\end_inset

Layouts
\begin_inset Quotes erd
\end_inset

 tab and click on the 
\begin_inset Quotes eld
\end_inset

Add
\begin_inset Quotes erd
\end_inset

 button.
 This will open a new window which contains a list of layouts ordered by
 country.
\end_layout

\begin_layout Enumerate
Scroll down the list till you find 
\begin_inset Quotes eld
\end_inset

Sri Lanka
\begin_inset Quotes erd
\end_inset

 and then highlight it by clicking on it.
 The Sinhala layout is the Default in the Sri Lanka layouts file.
 Then press 
\begin_inset Quotes eld
\end_inset

OK
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate
Choose the 
\begin_inset Quotes eld
\end_inset

Layout Options
\begin_inset Quotes erd
\end_inset

 tab and click on the text 
\begin_inset Quotes eld
\end_inset

Layout switching
\begin_inset Quotes erd
\end_inset

.
 A list will expand below this text
\end_layout

\begin_layout Enumerate
Scroll down the list till you find the text 
\begin_inset Quotes eld
\end_inset

Both Shift keys together change layout
\begin_inset Quotes erd
\end_inset

.
 Click on the corresponding checkbox.
\end_layout

\begin_layout Enumerate
If you wish to use an LED to indicate the toggling of keyboard layouts,
 click on the text "Use keyboard LED to show alternative layout".
 A list will expand below this text
\end_layout

\begin_layout Enumerate
Scroll down the list till you find the text 
\begin_inset Quotes eld
\end_inset

ScrollLock LED shows alternative layout
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
Using the command line in X:
\end_layout

\begin_layout Enumerate
In an xterm do:
\end_layout

\begin_deeper
\begin_layout Code
setxkbmap -layout "us,lk" -option "grp:shifts_toggle,grp_led:scroll"
\end_layout

\end_deeper
\begin_layout Standard
Alternately, you can directly modify /etc/X11/xorg.conf:
\end_layout

\begin_layout Enumerate
To add the new lk keyboard layout, look for this line:
\end_layout

\begin_deeper
\begin_layout Code
Section "InputDevice"
\end_layout

\begin_layout Standard
There will probably be two such lines, one for the keyboard and another
 for the mouse.
 Go to the keyboard related line.
 
\end_layout

\end_deeper
\begin_layout Enumerate
Then add 'lk' to a line that looks like:
\end_layout

\begin_deeper
\begin_layout Code
Option "XkbLayout" "us,lk"
\end_layout

\end_deeper
\begin_layout Enumerate
Also add a mechanism to switch between 'us' and 'lk' and indicate which
 LED should be used:
\end_layout

\begin_deeper
\begin_layout Code
Option "XkbOptions" "grp:shifts_toggle,grp_led:scroll"
\end_layout

\end_deeper
\begin_layout Enumerate
If asked by the window manager, reset keyboard defaults to the X defaults.
\end_layout

\begin_layout Subsubsection
Character Maps
\end_layout

\begin_layout Standard
You can use a Unicode Character Map program to copy and paste Sinhala characters
 into your program/document.
 Available programs are:
\end_layout

\begin_layout Itemize
gucharmap
\end_layout

\begin_layout Subsubsection
Databases
\begin_inset LatexCommand label
name "Enable-Databases"

\end_inset


\end_layout

\begin_layout Standard
The ability to alphabetically sort words in a database is essential.
 Till recently databases containing Sinhala words could not be sorted according
 to the Sinhala sorting order as established by SLS1134 - Part 1: Collation
 Sequence.
 Sinhala words can be sorted in MySQL (from version 5.2).
\end_layout

\begin_layout Standard
Instead of running this query:
\end_layout

\begin_layout Code
SELECT * FROM table1 ORDER BY column1;
\end_layout

\begin_layout Standard
run a slightly modified query that looks like:
\end_layout

\begin_layout Code
SELECT * FROM table1 ORDER BY column1 COLLATE utf8_sinhala_ci;
\end_layout

\begin_layout Subsubsection
LaTeX
\begin_inset LatexCommand label
name "sec:Enable-LaTeX"

\end_inset


\end_layout

\begin_layout Standard
TeX Live, 2008 release, should contain a version of XeTeX with Unicode Sinhala
 support.
 Otherwise.
 if you want to write Unicode Sinhala LaTeX documents, download:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.ucsc.cmb.ac.lk/People/cik/sintex-0.2.0.tar.gz"
target "http://www.ucsc.cmb.ac.lk/People/cik/sintex-0.2.0.tar.gz"

\end_inset


\end_layout

\begin_layout Subsubsection
Locales
\begin_inset LatexCommand label
name "Enable-Locales"

\end_inset


\end_layout

\begin_layout Standard
The Sinhala locale for Sri Lanka is already included in most distributions.
\end_layout

\begin_layout Section
Developer Notes
\begin_inset LatexCommand label
name "Developer-Notes"

\end_inset


\end_layout

\begin_layout Itemize
Savannah Sinhala Project: 
\begin_inset LatexCommand htmlurl
name "http://savannah.nongnu.org/projects/sinhala/"
target "http://savannah.nongnu.org/projects/sinhala/"

\end_inset


\end_layout

\begin_layout Itemize
Sourceforge Sinhala Project: 
\begin_inset LatexCommand htmlurl
name "http://sourceforge.net/projects/sinhala/"
target "http://sourceforge.net/projects/sinhala/"

\end_inset


\end_layout

\begin_layout Subsection
Open Type Fonts
\begin_inset LatexCommand label
name "Dev-Open-Type-Fonts"

\end_inset


\end_layout

\begin_layout Standard
You can use this PHP script to generate Unicode Sinhala letters:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://cvs.savannah.nongnu.org/viewvc/*checkout*/sinhala/utils/gen-unicode-sinhala.php?root=sinhala"
target "http://cvs.savannah.nongnu.org/viewvc/*checkout*/sinhala/utils/gen-unicode-sinhala.php?root=sinhala"

\end_inset


\end_layout

\begin_layout Subsubsection
List of feature tags
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://partners.adobe.com/public/developer/opentype/index_tag3.html"
target "http://partners.adobe.com/public/developer/opentype/index_tag3.html"

\end_inset


\end_layout

\begin_layout Subsubsection
Glyph Naming
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://partners.adobe.com/public/developer/en/opentype/aglfn13.txt"
target "http://partners.adobe.com/public/developer/en/opentype/aglfn13.txt"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://partners.adobe.com/public/developer/opentype/index_glyph.html"
target "http://partners.adobe.com/public/developer/opentype/index_glyph.html"

\end_inset


\end_layout

\begin_layout Subsubsection
Indic
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.microsoft.com/typography/OpenType%20Dev/indic/intro.mspx"
target "http://www.microsoft.com/typography/OpenType%20Dev/indic/intro.mspx"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Indic FAQ at Unicode.org"
target "http://unicode.org/faq/indic.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Indic Working Group at Unicode.org"
target "http://unicode.org/~emuller/iwg/"

\end_inset


\end_layout

\begin_layout Subsubsection
How Freefont obtained Sinhala glyphs
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://mail.gnu.org/archive/html/freefont-bugs/2003-03/msg00000.html"
target "http://mail.gnu.org/archive/html/freefont-bugs/2003-03/msg00000.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://mail.gnu.org/archive/html/freefont-bugs/2003-04/msg00001.html"
target "http://mail.gnu.org/archive/html/freefont-bugs/2003-04/msg00001.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://mail.gnu.org/archive/html/freefont-bugs/2003-05/msg00005.html"
target "http://mail.gnu.org/archive/html/freefont-bugs/2003-05/msg00005.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://mail.gnu.org/archive/html/freefont-bugs/2003-08/msg00002.html"
target "http://mail.gnu.org/archive/html/freefont-bugs/2003-08/msg00002.html"

\end_inset


\end_layout

\begin_layout Subsubsection
Development Info
\end_layout

\begin_layout Standard
If you wish to use TeX font glyphs to create a new font, mftrace will be
 useful.
 In most circumstances fontforge alone will be sufficient for most of your
 needs.
\end_layout

\begin_layout Subsection
Renderer (Layout Engine)
\begin_inset LatexCommand label
name "Dev-Renderer"

\end_inset


\end_layout

\begin_layout Standard
The top of tree Pango (since 1.8.2) & ICU (since 3.6) now support SLS1134.
\end_layout

\begin_layout Subsubsection
Pango
\end_layout

\begin_layout Standard
Pango's Indic renderer is based on ICU's Indic renderer.
\end_layout

\begin_layout Standard
The original patch to add Sinhala support was created by Harsha Senanayake
 for ICU 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://marc.theaimsgroup.com/?t=106354110900001&r=1&w=2"
target "http://marc.theaimsgroup.com/?t=106354110900001&r=1&w=2"

\end_inset


\end_layout

\end_inset

and later ported to Pango.
 The Pango patch was ported to the latest version of Pango by Chamath Keppitiyag
ama.
 It was submitted to bugzilla by Anuradha Ratnaweera
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=153517"
target "http://bugzilla.gnome.org/show_bug.cgi?id=153517"

\end_inset


\end_layout

\end_inset

.
 Harshula Jayasuriya modified the Pango state table & ZWJ handling 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=161981"
target "http://bugzilla.gnome.org/show_bug.cgi?id=161981"

\end_inset


\end_layout

\end_inset

 & 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=302577"
target "http://bugzilla.gnome.org/show_bug.cgi?id=302577"

\end_inset


\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
The Pango code for Sinhala and Indic rendering is common and can be found
 in the Pango source at:
\end_layout

\begin_layout Code
modules/indic/
\end_layout

\begin_layout Standard
One of the most important files to understand is:
\end_layout

\begin_layout Code
modules/indic/indic-ot-class-tables.c
\end_layout

\begin_layout Standard
Particularly how the function:
\end_layout

\begin_layout Code
indic_ot_find_syllable()
\end_layout

\begin_layout Standard
works.
\end_layout

\begin_layout Standard
Next have a look at the file:
\end_layout

\begin_layout Code
modules/indic/indic-ot.c
\end_layout

\begin_layout Standard
and the function:
\end_layout

\begin_layout Code
indic_ot_reorder()
\end_layout

\begin_layout Subsubsection
ICU
\end_layout

\begin_layout Standard
Owen Taylor (Pango) submitted the Pango Sinhala patch to the ICU project
 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/4298"
target "http://bugs.icu-project.org/trac/ticket/4298"

\end_inset


\end_layout

\end_inset

.
 Eric Mader (ICU) ported the Pango patch to ICU and checked-in the changes
 to ICU 3.6.
 Then Eric added the state table & ZWJ modifications from Pango to ICU 3.6
 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/4711"
target "http://bugs.icu-project.org/trac/ticket/4711"

\end_inset


\end_layout

\end_inset

 & 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/5057"
target "http://bugs.icu-project.org/trac/ticket/5057"

\end_inset


\end_layout

\end_inset

.
\end_layout

\begin_layout Paragraph
Split dependent vowel modifier (diga o) issue
\end_layout

\begin_layout Standard
There was an issue with U+0DDD (dependent vowel diga o) that can cause Open
 Office to crash.
 Opening this text file will crash Open Office and ICU 3.6:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/patches/icu-crash-testcase-dv-oo.txt?root=sinhala"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/patches/icu-crash-testcase-dv-oo.txt?root=sinhala"

\end_inset


\end_layout

\begin_layout Standard
The worstCaseExpansion for Sinhala was set to 3 when it should have been
 set to 4.
 The dependent vowel 'oo' (U+0DDD) consists of (kombuva)(dotted-circle)(aela-pil
la)(al-lakuna) which are 4 glyphs.
 As a result of the worstCaseExpansion being 3, memory was probably being
 allocated for 3 glyphs when memory was required for 4 glyphs.
 The actual crash occurred when unallocated memory was being freed.
\end_layout

\begin_layout Standard
Caolan McNamara also found this bug and fixed it first.
 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/5501"
target "http://bugs.icu-project.org/trac/ticket/5501"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph
Call Tree
\end_layout

\begin_layout Enumerate
source/layoutex/ParagraphLayout.cpp
\end_layout

\begin_deeper
\begin_layout Standard
ParagraphLayout::ParagraphLayout(const LEUnicode chars[], le_int32 count,
 const FontRuns *fontRuns, const ValueRuns *levelRuns, const ValueRuns *scriptRu
ns, const LocaleRuns *localeRuns, UBiDiLevel paragraphLevel, le_bool vertical,
 LEErrorCode &status)
\end_layout

\begin_layout Enumerate
source/layout/LayoutEngine.cpp: 
\end_layout

\begin_deeper
\begin_layout Standard
LayoutEngine *LayoutEngine::layoutEngineFactory(const LEFontInstance *fontInstan
ce, le_int32 scriptCode, le_int32 languageCode, LEErrorCode &success)
\end_layout

\end_deeper
\begin_layout Enumerate
LayoutEngine *LayoutEngine::layoutEngineFactory(const LEFontInstance *fontInstan
ce, le_int32 scriptCode, le_int32 languageCode, le_int32 typoFlags, LEErrorCode
 &success)
\end_layout

\begin_deeper
\begin_layout Itemize
IndicOpenTypeLayoutEngine::IndicOpenTypeLayoutEngine(const LEFontInstance
 *fontInstance, le_int32 scriptCode, le_int32 languageCode, le_int32 typoFlags,
 const GlyphSubstitutionTableHeader *gsubTable) 
\end_layout

\begin_layout Itemize
IndicOpenTypeLayoutEngine::IndicOpenTypeLayoutEngine(const LEFontInstance
 *fontInstance, le_int32 scriptCode, le_int32 languageCode, le_int32 typoFlags)
\end_layout

\end_deeper
\end_deeper
\begin_layout Enumerate
source/layout/LayoutEngine.cpp
\end_layout

\begin_deeper
\begin_layout Standard
le_int32 LayoutEngine::layoutChars(const LEUnicode chars[], le_int32 offset,
 le_int32 count, le_int32 max, le_bool rightToLeft, float x, float y, LEErrorCod
e &success)
\end_layout

\begin_layout Enumerate
le_int32 LayoutEngine::computeGlyphs(const LEUnicode chars[], le_int32 offset,
 le_int32 count, le_int32 max, le_bool rightToLeft, LEGlyphStorage &glyphStorage
, LEErrorCode &success)
\end_layout

\begin_deeper
\begin_layout Enumerate
source/layout/IndicLayoutEngine.cpp
\end_layout

\begin_deeper
\begin_layout Standard
le_int32 IndicOpenTypeLayoutEngine::characterProcessing(const LEUnicode
 chars[], le_int32 offset, le_int32 count, le_int32 max, le_bool rightToLeft,
 LEUnicode *&outChars, LEGlyphStorage &glyphStorage, LEErrorCode &success)
\end_layout

\begin_layout Enumerate
source/layout/IndicReordering.cpp
\end_layout

\begin_deeper
\begin_layout Standard
le_int32 IndicReordering::reorder(const LEUnicode *chars, le_int32 charCount,
 le_int32 scriptCode, LEUnicode *outChars, LEGlyphStorage &glyphStorage,
 MPreFixups **outMPreFixups)
\end_layout

\end_deeper
\end_deeper
\end_deeper
\end_deeper
\begin_layout Enumerate
engine->getGlyphs(fStyleRunInfo[run].glyphs, layoutStatus);
\end_layout

\begin_layout Enumerate
engine->getGlyphPositions(fStyleRunInfo[run].positions, layoutStatus);
\end_layout

\begin_layout Enumerate
engine->getCharIndices(&fGlyphToCharMap[glyphBase], runStart, layoutStatus);
\end_layout

\begin_layout Subsection
Firefox/Mozilla
\begin_inset LatexCommand label
name "Dev-Firefox-Mozilla"

\end_inset


\end_layout

\begin_layout Standard
Interestingly, Debian, Fedora Core and Ubuntu decided to address enabling
 Pango in Firefox in completely different ways.
\end_layout

\begin_layout Subsubsection
Debian
\end_layout

\begin_layout Standard
Since Debian 4.0 (Etch), Pango is enabled by default.
\end_layout

\begin_layout Subsubsection
Ubuntu
\end_layout

\begin_layout Paragraph
Ubuntu 5.10
\end_layout

\begin_layout Standard
Ubuntu 5.10 enabled Pango by default.
 Have a look at:
\end_layout

\begin_layout Code
/usr/bin/mozilla-firefox 
\end_layout

\begin_layout Standard
which contains the code:
\end_layout

\begin_layout Code
##
\end_layout

\begin_layout Code
## Set MOZ_ENABLE_PANGO
\end_layout

\begin_layout Code
##
\end_layout

\begin_layout Code
MOZ_ENABLE_PANGO=1
\end_layout

\begin_layout Code
export MOZ_ENABLE_PANGO
\end_layout

\begin_layout Code

\end_layout

\begin_layout Paragraph
Ubuntu 6.06
\end_layout

\begin_layout Standard
On the other hand Ubuntu 6.06, decided to disable Pango in Firefox by default
 except for a pre-determined list of locales.
 The extensive discussion can be found here:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://launchpad.net/distros/ubuntu/+source/firefox/+bug/32561"
target "https://launchpad.net/distros/ubuntu/+source/firefox/+bug/32561"

\end_inset


\end_layout

\begin_layout Standard
Have a look at:
\end_layout

\begin_layout Code
/usr/bin/mozilla-firefox 
\end_layout

\begin_layout Standard
which contains the code:
\end_layout

\begin_layout Code
if [ "x${MOZ_DISABLE_PANGO}" = x ]; then
\end_layout

\begin_layout Code
    if egrep '^(bn|gu|hi|kn|ml|mr|ne|pa|ta|te)_' 
\backslash

\end_layout

\begin_layout Code
        /var/lib/locales/supported.d/*[^~] >/dev/null 2>&1; then
\end_layout

\begin_layout Code
        MOZ_DISABLE_PANGO=0
\end_layout

\begin_layout Code
    else
\end_layout

\begin_layout Code
        MOZ_DISABLE_PANGO=1
\end_layout

\begin_layout Code
    fi
\end_layout

\begin_layout Code
    export MOZ_DISABLE_PANGO
\end_layout

\begin_layout Code
fi
\end_layout

\begin_layout Code
if [ "x${MOZ_DISABLE_PANGO}" = x0 ]; then
\end_layout

\begin_layout Code
    unset MOZ_DISABLE_PANGO
\end_layout

\begin_layout Code
fi
\end_layout

\begin_layout Standard
This means that Ubuntu 6.06 users that need Pango enabled in Firefox need
 to set an environment variable
\end_layout

\begin_layout Code
MOZ_DISABLE_PANGO=0
\end_layout

\begin_layout Standard
You can see the difference by running Firefox at the command line like so:
\end_layout

\begin_layout Code
# MOZ_DISABLE_PANGO=0 mozilla-firefox
\end_layout

\begin_layout Subsubsection
Ubuntu 6.10 & Above
\end_layout

\begin_layout Standard
Ubuntu 6.10 users can enable Pango in Firefox by setting an environment variable:
\end_layout

\begin_layout Code
MOZ_DISABLE_PANGO=0
\end_layout

\begin_layout Standard
Or by simply installing the Ubuntu package:
\end_layout

\begin_layout Code
language-pack-si-base
\end_layout

\begin_layout Subsubsection
Fedora Core
\end_layout

\begin_layout Standard
Since Fedora Core 4, Pango is enabled in Firefox by default.
 In order to disable Pango in Firefox an environment variable has to be
 set:
\end_layout

\begin_layout Code
MOZ_DISABLE_PANGO=1
\end_layout

\begin_layout Standard
You can see the difference by running Firefox at the command line like so:
\end_layout

\begin_layout Code
# MOZ_DISABLE_PANGO=1 firefox
\end_layout

\begin_layout Standard
Have a look at:
\end_layout

\begin_layout Code
/usr/bin/firefox 
\end_layout

\begin_layout Standard
for an explanation.
\end_layout

\begin_layout Paragraph
Fedora Core 3
\end_layout

\begin_layout Quotation
Firefox and Mozilla can be enabled with pango rendering support, which enables
 many text layout features, including the rendering of CTL (Complex Text
 Layout) such as Indic languages.
 To enable this, set the following environment variable when running Firefox
 or Mozilla:
\end_layout

\begin_layout Quotation
MOZ_ENABLE_PANGO=1 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://download.fedora.redhat.com/pub/fedora/linux/core/3/i386/os/RELEASE-NOTES-en.html"
target "http://download.fedora.redhat.com/pub/fedora/linux/core/3/i386/os/RELEASE-NOTES-en.html"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph
Fedora Core 4 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://cvs.fedora.redhat.com/viewcvs/*checkout*/rpms/firefox/devel/firefox.sh.in?rev=1.8"
target "http://cvs.fedora.redhat.com/viewcvs/*checkout*/rpms/firefox/devel/firefox.sh.in?rev=1.8"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Code
##
\end_layout

\begin_layout Code
## Set MOZ_ENABLE_PANGO is no longer used because Pango is enabled by default
\end_layout

\begin_layout Code
## you may use MOZ_DISABLE_PANGO=1 to force disabling of pango
\end_layout

\begin_layout Code
##
\end_layout

\begin_layout Code
#MOZ_DISABLE_PANGO=1
\end_layout

\begin_layout Code
#export MOZ_DISABLE_PANGO
\end_layout

\begin_layout Paragraph
Fedora Core 5 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://cvs.fedora.redhat.com/viewcvs/*checkout*/rpms/firefox/devel/firefox.sh.in?rev=1.11"
target "http://cvs.fedora.redhat.com/viewcvs/*checkout*/rpms/firefox/devel/firefox.sh.in?rev=1.11"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Code
##
\end_layout

\begin_layout Code
## In order to better support certain scripts (such as Indic and some CJK
 
\end_layout

\begin_layout Code
## scripts), Fedora builds its Firefox, with permission from the Mozilla
 
\end_layout

\begin_layout Code
## Corporation, with the Pango system as its text renderer.
  This change 
\end_layout

\begin_layout Code
## is known to break rendering of MathML, and may negatively impact 
\end_layout

\begin_layout Code
## performance on some pages.
  To disable the use of Pango, set 
\end_layout

\begin_layout Code
## MOZ_DISABLE_PANGO=1 in your environment before launching Firefox.
\end_layout

\begin_layout Code
##
\end_layout

\begin_layout Code
#
\end_layout

\begin_layout Code
# MOZ_DISABLE_PANGO=1
\end_layout

\begin_layout Code
# export MOZ_DISABLE_PANGO
\end_layout

\begin_layout Code
#
\end_layout

\begin_layout Subsubsection
Epiphany Browser
\end_layout

\begin_layout Standard
Changelog:
\end_layout

\begin_layout Code
2006-01-27  Christian Persch  <chpe at cvs dot gnome dot org>
\end_layout

\begin_layout Code
        * src/ephy-main.c: (main):
\end_layout

\begin_layout Code
        Disable pango rendering by default, unless MOZ_ENABLE_PANGO env
\end_layout

\begin_layout Code
        var is set.
 Bug #328844.
\end_layout

\begin_layout Code

\end_layout

\begin_layout Standard
src/ephy-main.c:
\end_layout

\begin_layout Code
        /* Work around bug #328844, and avoid the gecko+pango performance
 problem */
\end_layout

\begin_layout Code
        env = g_getenv ("MOZ_ENABLE_PANGO");
\end_layout

\begin_layout Code
        enable_pango = env != NULL &&
\end_layout

\begin_layout Code
                       env[0] != '
\backslash
0' &&
\end_layout

\begin_layout Code
                       g_ascii_strtoull (env, NULL, 10) != 0;
\end_layout

\begin_layout Code
        if (eel_gconf_get_boolean (CONF_GECKO_ENABLE_PANGO))
\end_layout

\begin_layout Code
        {
\end_layout

\begin_layout Code
                g_print ("NOTE: Enabling gecko pango renderer; this may
 cause performance degradation.
\backslash
n"
\end_layout

\begin_layout Code
                         "You can set " CONF_GECKO_ENABLE_PANGO " to 
\backslash
"false
\backslash
" to disable it.
\backslash
n");
\end_layout

\begin_layout Code
        }
\end_layout

\begin_layout Code
        else if (!enable_pango)
\end_layout

\begin_layout Code
        {
\end_layout

\begin_layout Code
                g_setenv ("MOZ_DISABLE_PANGO", "1", TRUE);
\end_layout

\begin_layout Code
        }
\end_layout

\begin_layout Standard
Epiphany also has a file, data/epiphany-pango.schemas containing a list of
 locales which require Pango to be enabled by default.
\end_layout

\begin_layout Subsection
Open Office
\begin_inset LatexCommand label
name "Dev-Open-Office"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://wiki.services.openoffice.org/wiki/Debugging"
target "http://wiki.services.openoffice.org/wiki/Debugging"

\end_inset


\end_layout

\begin_layout Subsubsection
Open Office 2.0.4
\end_layout

\begin_layout Standard
Whilst working on the patches for adding Sinhala support to ICU, the renderer
 of Open Office, I observed that the ZWJ characters do not appear to reach
 ICU 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://mail.lug.lk/lurker/message/20060410.130454.19cefb01.en.html"
target "http://mail.lug.lk/lurker/message/20060410.130454.19cefb01.en.html"

\end_inset


\end_layout

\end_inset

.
 I demonstrated this at the Red Hat Sri Lanka office (approx.
 21/04/2006).
 Red Hat Sri Lanka then conveyed this to Red Hat India on 27/07/2006.
 A few days later Red Hat India opened a bug
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "https://bugzilla.redhat.com/show_bug.cgi?id=200728"
target "https://bugzilla.redhat.com/show_bug.cgi?id=200728"

\end_inset


\end_layout

\end_inset

.
 Then, Caolan McNamara found the Open Office file that filters ZWJ and ZWNJ
 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://www.openoffice.org/issues/show_bug.cgi?id=68047"
target "http://www.openoffice.org/issues/show_bug.cgi?id=68047"

\end_inset


\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
The source file:
\end_layout

\begin_layout Code
vcl/source/gdi/sallayout.cxx
\end_layout

\begin_layout Standard
contains a function:
\end_layout

\begin_layout Code
inline bool IsControlChar( sal_Unicode cChar )
\end_layout

\begin_layout Standard
This function tells a caller that characters U+200B to U+200F are control
 characters.
\end_layout

\begin_layout Standard
In the source file:
\end_layout

\begin_layout Code
linguistic/source/misc.cxx
\end_layout

\begin_layout Standard
two functions, 
\end_layout

\begin_layout Code
static INT16 GetOrigWordPos( const OUString &rOrigWord, INT16 nPos )
\end_layout

\begin_layout Standard
and
\end_layout

\begin_layout Code
INT32 GetPosInWordToCheck( const OUString &rTxt, INT32 nPos )
\end_layout

\begin_layout Standard
call 
\end_layout

\begin_layout Code
inline bool IsControlChar( sal_Unicode cChar )
\end_layout

\begin_layout Standard
when doing lingustic analysis for what appears to be spelling purposes.
 Even found some comments written in, I assume, German.
\end_layout

\begin_layout Standard
In the source file:
\end_layout

\begin_layout Code
vcl/source/gdi/sallayout.cxx
\end_layout

\begin_layout Standard
there is a function:
\end_layout

\begin_layout Code
void ImplLayoutArgs::AddRun( int nCharPos0, int nCharPos1, bool bRTL )
\end_layout

\begin_layout Standard
which calls the function:
\end_layout

\begin_layout Code
inline bool IsControlChar( sal_Unicode cChar )
\end_layout

\begin_layout Standard
it's purpose is to:
\end_layout

\begin_layout Code
// add a run after splitting it up to get rid of control chars
\end_layout

\begin_layout Standard
It should be noted that this function handles RTL text in a different way
 to LTR text.
 My initial reaction is that should not be the case.
 However, I have not looked into it any further.
\end_layout

\begin_layout Standard
Compiling Open Office 2.0.4 on Debian Etch on a Pentium M 2.13 GHz with 1 GiB
 RAM took approximately 10 hours and required 10 GBs of additional hard
 drive space for the source and the compiled files.
\end_layout

\begin_layout Subsubsection
Open Office 2.1
\end_layout

\begin_layout Standard
Open Office 2.1 does not filter ZWJ, therefore, it supports Unicode Sinhala.
\end_layout

\begin_layout Subsection
Input Methods
\begin_inset LatexCommand label
name "Dev-Input-Methods"

\end_inset


\end_layout

\begin_layout Standard

\series medium
The recommended infrastructure for keyboard layouts 
\series default
are
\series medium
 
\series default
XKB, XIM, IIIMF 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://www.openi18n.org/modules.php?op=modload&name=Sections&file=index&req=viewarticle&artid=103&page=1"
target "http://www.openi18n.org/modules.php?op=modload&name=Sections&file=index&req=viewarticle&artid=103&page=1"

\end_inset


\end_layout

\end_inset

, m17n 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://www.m17n.org/"
target "http://www.m17n.org/"

\end_inset


\end_layout

\end_inset

 and SCIM 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://www.scim-im.org/"
target "http://www.scim-im.org/"

\end_inset


\end_layout

\end_inset

.
 The recommended infrastructures are XKB, for simple one-to-one keyboard
 layouts, and SCIM/m17n for complex keyboard layouts.
 XKB is a component of Xorg.
\end_layout

\begin_layout Subsubsection
Syllable Segmentation 
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://sourceforge.net/mailarchive/message.php?msg_id=1164743938.10123.14.camel%40B1.HOME"
target "http://sourceforge.net/mailarchive/message.php?msg_id=1164743938.10123.14.camel%40B1.HOME"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Sinhala letters which define the start of a new 'syllable':
\end_layout

\begin_layout Enumerate
All independent vowels (U+0d85 - U+0d96)
\end_layout

\begin_layout Enumerate
Kombuva (U+0dd9) - except if preceded by a kombuva.
\end_layout

\begin_layout Enumerate
All consonants (U+0d9a - U+0dc6) - except if preceded by kombuva or kombuva
 deka (U+0ddb)
\end_layout

\begin_layout Enumerate
Kunddaliya (U+0df4)
\end_layout

\begin_layout Enumerate
All non-Sinhala characters/codepoints - except ZWJ (U+200D)
\end_layout

\begin_layout Subsubsection
Keyboard
\end_layout

\begin_layout Standard
You can use 
\emph on
showkey
\emph default
 in linux to display the scancode.
\end_layout

\begin_layout Itemize
57 - space
\end_layout

\begin_layout Itemize
56 - left alt
\end_layout

\begin_layout Itemize
100 - right alt
\end_layout

\begin_layout Itemize
29 - left ctrl
\end_layout

\begin_layout Itemize
97 - right ctrl
\end_layout

\begin_layout Itemize
42 - left shift
\end_layout

\begin_layout Itemize
54 - right shift
\end_layout

\begin_layout Standard
Look in the linux source:
\end_layout

\begin_layout Code
drivers/char/keyboard.c
\end_layout

\begin_layout Standard
Look for the function:
\end_layout

\begin_layout Code
getkeycode()
\end_layout

\begin_layout Subsubsection
XKB - adding a new keyboard layout
\end_layout

\begin_layout Standard
All you need to do is just copy the keyboard layout file into the correct
 directory:
\end_layout

\begin_layout Code
/etc/X11/xkb/symbols/
\end_layout

\begin_layout Standard
or
\end_layout

\begin_layout Code
/etc/X11/xkb/symbols/pc/
\end_layout

\begin_layout Standard
or
\end_layout

\begin_layout Code
/usr/share/X11/xkb/symbols
\end_layout

\begin_layout Standard
However, for completeness some files in these directories:
\end_layout

\begin_layout Code
/etc/X11/
\end_layout

\begin_layout Standard
or
\end_layout

\begin_layout Code
/usr/X11R6/lib/X11/
\end_layout

\begin_layout Standard
or
\end_layout

\begin_layout Code
/usr/share/X11/
\end_layout

\begin_layout Standard
need to be modified, namely these files:
\end_layout

\begin_layout Code
xkb/rules/{xorg,xfree86}
\end_layout

\begin_layout Code
xkb/rules/{xorg,xfree86}.lst
\end_layout

\begin_layout Code
xkb/rules/{xorg,xfree86}.xml
\end_layout

\begin_layout Code
xkb/symbols.dir
\end_layout

\begin_layout Standard
To test a loaded keyboard layout:
\end_layout

\begin_layout Code
setxkbmap -print | xkbcomp -w 10 -xkb - <outfile>
\end_layout

\begin_layout Subsubsection
SCIM
\end_layout

\begin_layout Standard
SCIM can be used as the frontend, which is exposed to the user, and the
 backend that maps keycodes to codepoints.
 Or SCIM can be used as a frontend for other backends.
 e.g.
 m17n can be a backend.
\end_layout

\begin_layout Subsubsection
m17n
\end_layout

\begin_layout Standard
The m17n backend keyboard layout definition file is a text file.
 The documentation can be found:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.m17n.org/common/m17n-docs-en/m17nDBFormat.html#mdbIM"
target "http://www.m17n.org/common/m17n-docs-en/m17nDBFormat.html#mdbIM"

\end_inset


\end_layout

\begin_layout Subsubsection
xmodmap
\end_layout

\begin_layout Standard
The xmodmap keyboard layout is not fully functional, hence it is recommended
 you use the X Keyboard Extension keyboard layout.
 To familiarise yourself with this keyboard layout, read:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"

\end_inset


\end_layout

\begin_layout Enumerate
Download the keyboard layout from:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "sin.xmodmap"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/keymaps/sin.xmodmap?root=sinhala"

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
Then run xmodmap:
\end_layout

\begin_deeper
\begin_layout Code
xmodmap sin.xmodmap
\end_layout

\end_deeper
\begin_layout Subsubsection
gvim
\end_layout

\begin_layout Standard
To familiarise yourself with this keyboard layout, read:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"

\end_inset


\end_layout

\begin_layout Enumerate
Download the keyboard layout and redirector from:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "sinhala-phonetic_utf-8.vim"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/keymaps/sinhala-phonetic_utf-8.vim?root=sinhala"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "sinhala.vim"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/keymaps/sinhala.vim?root=sinhala"

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
Copy the keyboard layout and redirector to ~/.vim/keymap/
\end_layout

\begin_layout Enumerate
Start gvim
\end_layout

\begin_layout Enumerate
Need to disable the menu so that you can use the 'alt' key.
\end_layout

\begin_deeper
\begin_layout Code
set guioptions-=m
\end_layout

\end_deeper
\begin_layout Enumerate
Select the new keyboard layout, using the redirector, by typing:
\end_layout

\begin_deeper
\begin_layout Code
set keymap=sinhala
\end_layout

\begin_layout Standard
or select the new keyboard layout directly by typing:
\end_layout

\begin_layout Code
set keymap=sinhala-phonetic_utf-8
\end_layout

\begin_layout Standard
To toggle between the Sinhala keyboard layout and the standard ASCII keyboard
 layout, press <Ctrl> <6> whilst in insert mode.
\end_layout

\end_deeper
\begin_layout Subsection
Databases
\begin_inset LatexCommand label
name "Dev-Databases"

\end_inset


\end_layout

\begin_layout Subsubsection
Collation
\end_layout

\begin_layout Standard
The Sinhala letters in the Unicode chart can be categorised as:
\end_layout

\begin_layout Itemize
independent vowels: U+0D85 - U+0D96
\end_layout

\begin_layout Itemize
consonants: U+0D9A - U+0DC6
\end_layout

\begin_layout Itemize
dependent vowels: U+0DCA - U+0DF3
\end_layout

\begin_layout Itemize
consonant modifiers: U+0D82 - U+0D83
\end_layout

\begin_layout Standard
The collation order of the groups can be broadly described as:
\end_layout

\begin_layout Enumerate
independent vowels
\end_layout

\begin_layout Enumerate
consonant modifiers
\end_layout

\begin_layout Enumerate
consonants
\end_layout

\begin_layout Enumerate
dependent vowels.
\end_layout

\begin_layout Standard
The order of the groups and the order of the letters within the groups do
 
\emph on
not
\emph default
 correspond to the collation order.
 Hence, tailoring is required.
\end_layout

\begin_layout Subsubsection
Tailoring
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "ICU User Guide: Collation Customization"
target "http://icu.sourceforge.net/userguide/Collate_Customization.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Change Management for the Unicode Collation Algorithm"
target "http://unicode.org/collation/ducet-changes.html"

\end_inset


\end_layout

\begin_layout Paragraph
Sinhala tailoring rules
\end_layout

\begin_layout Standard
The first tailoring rule is the minimal description of Sinhala tailoring.
 The second tailoring rule is the complete description of Sinhala tailoring
 as required by MySQL
\begin_inset Foot
status open

\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://lists.mysql.com/internals/34303"
target "http://lists.mysql.com/internals/34303"

\end_inset


\end_layout

\end_inset

.
\end_layout

\begin_layout Code
/*
\end_layout

\begin_layout Code
  SCCII Part 1 : Collation Sequence (SLS1134)
\end_layout

\begin_layout Code
  2006/11/24
\end_layout

\begin_layout Code
  Harshula Jayasuriya <harshula at gmail dot com>
\end_layout

\begin_layout Code
  Language Technology Research Lab, University of Colombo / ICTA
\end_layout

\begin_layout Code
*/
\end_layout

\begin_layout Code
#if 1
\end_layout

\begin_layout Code
static const char sinhala[]=
\end_layout

\begin_layout Code
    "& 
\backslash

\backslash
u0D96 < 
\backslash

\backslash
u0D82 < 
\backslash

\backslash
u0D83"
\end_layout

\begin_layout Code
    "& 
\backslash

\backslash
u0DA5 < 
\backslash

\backslash
u0DA4"
\end_layout

\begin_layout Code
    "& 
\backslash

\backslash
u0DD8 < 
\backslash

\backslash
u0DF2 < 
\backslash

\backslash
u0DDF < 
\backslash

\backslash
u0DF3"
\end_layout

\begin_layout Code
    "& 
\backslash

\backslash
u0DDE < 
\backslash

\backslash
u0DCA";
\end_layout

\begin_layout Code
#else
\end_layout

\begin_layout Code
static const char sinhala[]=
\end_layout

\begin_layout Code
    "& 
\backslash

\backslash
u0D96 < 
\backslash

\backslash
u0D82 < 
\backslash

\backslash
u0D83 < 
\backslash

\backslash
u0D9A < 
\backslash

\backslash
u0D9B < 
\backslash

\backslash
u0D9C < 
\backslash

\backslash
u0D9D"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0D9E < 
\backslash

\backslash
u0D9F < 
\backslash

\backslash
u0DA0 < 
\backslash

\backslash
u0DA1 < 
\backslash

\backslash
u0DA2 < 
\backslash

\backslash
u0DA3"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DA5 < 
\backslash

\backslash
u0DA4 < 
\backslash

\backslash
u0DA6"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DA7 < 
\backslash

\backslash
u0DA8 < 
\backslash

\backslash
u0DA9 < 
\backslash

\backslash
u0DAA < 
\backslash

\backslash
u0DAB < 
\backslash

\backslash
u0DAC"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DAD < 
\backslash

\backslash
u0DAE < 
\backslash

\backslash
u0DAF < 
\backslash

\backslash
u0DB0 < 
\backslash

\backslash
u0DB1"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DB3 < 
\backslash

\backslash
u0DB4 < 
\backslash

\backslash
u0DB5 < 
\backslash

\backslash
u0DB6 < 
\backslash

\backslash
u0DB7 < 
\backslash

\backslash
u0DB8"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DB9 < 
\backslash

\backslash
u0DBA < 
\backslash

\backslash
u0DBB < 
\backslash

\backslash
u0DBD < 
\backslash

\backslash
u0DC0 < 
\backslash

\backslash
u0DC1"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DC2 < 
\backslash

\backslash
u0DC3 < 
\backslash

\backslash
u0DC4 < 
\backslash

\backslash
u0DC5 < 
\backslash

\backslash
u0DC6"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DCF"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DD0 < 
\backslash

\backslash
u0DD1 < 
\backslash

\backslash
u0DD2 < 
\backslash

\backslash
u0DD3 < 
\backslash

\backslash
u0DD4 < 
\backslash

\backslash
u0DD6"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DD8 < 
\backslash

\backslash
u0DF2 < 
\backslash

\backslash
u0DDF < 
\backslash

\backslash
u0DF3 < 
\backslash

\backslash
u0DD9 < 
\backslash

\backslash
u0DDA"
\end_layout

\begin_layout Code
              "< 
\backslash

\backslash
u0DDB < 
\backslash

\backslash
u0DDC < 
\backslash

\backslash
u0DDD < 
\backslash

\backslash
u0DDE < 
\backslash

\backslash
u0DCA";
\end_layout

\begin_layout Code
#endif
\end_layout

\begin_layout Subsubsection
MySQL
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Unicode and Other Funny Characters"
target "http://dev.mysql.com/tech-resources/articles/4.1/unicode.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "MySQL 5.0 Reference Manual :: 5 Database Administration :: 5.2 mysqld ? The MySQL Server :: 5.2.1 Option and Variable Reference"
target "http://dev.mysql.com/doc/refman/5.0/en/mysqld-option-tables.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "MySQL 5.0 Reference Manual :: 10 Character Set Support"
target "http://dev.mysql.com/doc/refman/5.0/en/charset.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "MySQL Internals Manual :: 4 Important Algorithms and Structures :: 4.10 Character/Collation Sets"
target "http://dev.mysql.com/doc/internals/en/charsets.html"

\end_inset


\end_layout

\begin_layout Paragraph
Terminology
\end_layout

\begin_layout Itemize
ci = case insensitive
\end_layout

\begin_layout Itemize
cs = case sensitive
\end_layout

\begin_layout Itemize
bin = binary
\end_layout

\begin_layout Paragraph
Useful Commands
\end_layout

\begin_layout Itemize
SHOW CHARACTER SET;
\end_layout

\begin_layout Itemize
SHOW COLLATION;
\end_layout

\begin_layout Itemize
SHOW COLLATION like 'ucs%';
\end_layout

\begin_layout Itemize
SHOW COLLATION like 'utf8%';
\end_layout

\begin_layout Itemize
SET NAMES 'utf8'; // after connecting to server if the server has NOT set
 'skip-character-set-client-handshake'
\end_layout

\begin_layout Itemize
SHOW CREATE TABLE <table-name>;
\end_layout

\begin_layout Itemize
SHOW VARIABLES;
\end_layout

\begin_layout Itemize

\backslash
s
\end_layout

\begin_layout Paragraph
Configure MySQL Server
\end_layout

\begin_layout Standard
Edit the file /etc/mysql/my.cnf and add to the [mysqld] section:
\end_layout

\begin_layout Itemize
default-character_set=utf8
\end_layout

\begin_layout Itemize
skip-character-set-client-handshake
\end_layout

\begin_layout Standard
This is done to ensure that UTF-8 is the default encoding for the server
 and client.
\end_layout

\begin_layout Paragraph
Testing MySQL
\end_layout

\begin_layout Enumerate
Test Swedish (MySQL is a Swedish company) collation algorithm:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://en.wikipedia.org/wiki/Swedish_alphabet"
target "http://en.wikipedia.org/wiki/Swedish_alphabet"

\end_inset


\end_layout

\begin_layout Code
CREATE TABLE t1 (
\end_layout

\begin_layout Code
        id SERIAL PRIMARY KEY,
\end_layout

\begin_layout Code
        letter VARCHAR(10) NOT NULL
\end_layout

\begin_layout Code
) CHARACTER SET utf8;
\end_layout

\begin_layout Standard
Running this collation handler:
\end_layout

\begin_layout Code
SELECT * FROM t1 ORDER BY letter COLLATE utf8_swedish_ci;
\end_layout

\begin_layout Standard
results in non-English letters appearing at the end of the sorted alphabet
 as expected.
\end_layout

\end_deeper
\begin_layout Enumerate
Test new Sinhala collation algorithm:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset LatexCommand htmlurl
name "http://en.wikipedia.org/wiki/Sinhala_alphabet"
target "http://en.wikipedia.org/wiki/Sinhala_alphabet"

\end_inset


\end_layout

\begin_layout Code
CREATE TABLE t2 (
\end_layout

\begin_layout Code
        id SERIAL PRIMARY KEY,
\end_layout

\begin_layout Code
        letter VARCHAR(10) NOT NULL
\end_layout

\begin_layout Code
) CHARACTER SET utf8;
\end_layout

\begin_layout Standard
Load the data from this file:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "mysql-data-sinhala.txt"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/patches/mysql-data-sinhala.txt?root=sinhala"

\end_inset


\end_layout

\begin_layout Standard
Running this collation handler:
\end_layout

\begin_layout Code
SELECT * FROM t2 ORDER BY letter COLLATE utf8_sinhala_ci;
\end_layout

\begin_layout Standard
results match the SCCII Part 1 : Collation Sequence (SLS1134).
\end_layout

\begin_layout Standard
Download the output file from:
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "mysql-output-utf8_sinhala_ci.txt"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/patches/mysql-output-utf8_sinhala_ci.txt?root=sinhala"

\end_inset


\end_layout

\end_deeper
\begin_layout Paragraph
Source Code
\end_layout

\begin_layout Itemize
mysql/strings/ctype-uca.c
\end_layout

\begin_layout Code
/*
\end_layout

\begin_layout Code
  Collation language is implemented according to
\end_layout

\begin_layout Code
  subset of ICU Collation Customization (tailorings):
\end_layout

\begin_layout Code
  http://icu.sourceforge.net/userguide/Collate_Customization.html
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  Collation language elements:
\end_layout

\begin_layout Code
  Delimiters:
\end_layout

\begin_layout Code
    space   - skipped
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  <char> :=  A-Z | a-z | 
\backslash
uXXXX
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  Shift command:
\end_layout

\begin_layout Code
    <shift>  := &       - reset at this letter.
 
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  Diff command:
\end_layout

\begin_layout Code
    <d1> :=  <     - Identifies a primary difference.
\end_layout

\begin_layout Code
    <d2> :=  <<    - Identifies a secondary difference.
\end_layout

\begin_layout Code
    <d3> := <<<    - Idenfifies a tertiary difference.
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  Collation rules:
\end_layout

\begin_layout Code
    <ruleset> :=  <rule>  { <ruleset> }
\end_layout

\begin_layout Code
    
\end_layout

\begin_layout Code
    <rule> :=   <d1>    <string>
\end_layout

\begin_layout Code
              | <d2>    <string>
\end_layout

\begin_layout Code
              | <d3>    <string>
\end_layout

\begin_layout Code
              | <shift> <char>
\end_layout

\begin_layout Code
    
\end_layout

\begin_layout Code
    <string> := <char> [ <string> ]
\end_layout

\begin_layout Code
  An example, Polish collation:
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
    &A < 
\backslash
u0105 <<< 
\backslash
u0104
\end_layout

\begin_layout Code
    &C < 
\backslash
u0107 <<< 
\backslash
u0106
\end_layout

\begin_layout Code
    &E < 
\backslash
u0119 <<< 
\backslash
u0118
\end_layout

\begin_layout Code
    &L < 
\backslash
u0142 <<< 
\backslash
u0141
\end_layout

\begin_layout Code
    &N < 
\backslash
u0144 <<< 
\backslash
u0143
\end_layout

\begin_layout Code
    &O < 
\backslash
u00F3 <<< 
\backslash
u00D3
\end_layout

\begin_layout Code
    &S < 
\backslash
u015B <<< 
\backslash
u015A
\end_layout

\begin_layout Code
    &Z < 
\backslash
u017A <<< 
\backslash
u017B    
\end_layout

\begin_layout Code
*/
\end_layout

\begin_layout Itemize
mysql/include/m_ctype.h
\end_layout

\begin_layout Code
typedef struct charset_info_st
\end_layout

\begin_layout Code
{
\end_layout

\begin_layout Code
  uint      number;
\end_layout

\begin_layout Code
  uint      primary_number;
\end_layout

\begin_layout Code
  uint      binary_number;
\end_layout

\begin_layout Code
  uint      state;
\end_layout

\begin_layout Code
  const char *csname;
\end_layout

\begin_layout Code
  const char *name;
\end_layout

\begin_layout Code
  const char *comment;
\end_layout

\begin_layout Code
  const char *tailoring;
\end_layout

\begin_layout Code
  uchar    *ctype;
\end_layout

\begin_layout Code
  uchar    *to_lower;
\end_layout

\begin_layout Code
  uchar    *to_upper;
\end_layout

\begin_layout Code
  uchar    *sort_order;
\end_layout

\begin_layout Code
  uint16   *contractions;
\end_layout

\begin_layout Code
  uint16   **sort_order_big;
\end_layout

\begin_layout Code
  uint16      *tab_to_uni;
\end_layout

\begin_layout Code
  MY_UNI_IDX  *tab_from_uni;
\end_layout

\begin_layout Code
  MY_UNICASE_INFO **caseinfo;
\end_layout

\begin_layout Code
  uchar     *state_map;
\end_layout

\begin_layout Code
  uchar     *ident_map;
\end_layout

\begin_layout Code
  uint      strxfrm_multiply;
\end_layout

\begin_layout Code
  uchar     caseup_multiply;
\end_layout

\begin_layout Code
  uchar     casedn_multiply;
\end_layout

\begin_layout Code
  uint      mbminlen;
\end_layout

\begin_layout Code
  uint      mbmaxlen;
\end_layout

\begin_layout Code
  uint16    min_sort_char;
\end_layout

\begin_layout Code
  uint16    max_sort_char; /* For LIKE optimization */
\end_layout

\begin_layout Code
  uchar     pad_char;
\end_layout

\begin_layout Code
  my_bool   escape_with_backslash_is_dangerous;
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
  MY_CHARSET_HANDLER *cset;
\end_layout

\begin_layout Code
  MY_COLLATION_HANDLER *coll;
\end_layout

\begin_layout Code
  
\end_layout

\begin_layout Code
} CHARSET_INFO;
\end_layout

\begin_layout Itemize
mysys/charset.c: CHARSET_INFO *all_charsets[256]
\end_layout

\begin_layout Itemize
mysys/charset.c
\end_layout

\begin_deeper
\begin_layout Standard
init_available_charsets()
\end_layout

\begin_layout Itemize
mysys/charset-def.c
\end_layout

\begin_deeper
\begin_layout Standard
init_compiled_charsets()
\end_layout

\begin_layout Itemize
mysys/charset.c
\end_layout

\begin_deeper
\begin_layout Standard
add_compiled_collation()
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
init_state_maps()
\end_layout

\end_deeper
\begin_layout Itemize
strings/ctype-uca.c
\end_layout

\begin_deeper
\begin_layout Standard
my_coll_init_uca()
\end_layout

\begin_layout Itemize
create_tailoring()
\end_layout

\begin_deeper
\begin_layout Itemize
my_coll_rule_parse()
\end_layout

\begin_deeper
\begin_layout Itemize
my_coll_lexem_init()
\end_layout

\end_deeper
\begin_layout Standard
[Copy the default weights data to the new weights data structure]
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
mysys/charset.c
\end_layout

\begin_deeper
\begin_layout Standard
get_charset_by_name()
\end_layout

\begin_layout Itemize
get_collation_number()
\end_layout

\begin_deeper
\begin_layout Itemize
get_collation_number_internal()
\end_layout

\end_deeper
\begin_layout Itemize
get_internal_charset()
\end_layout

\end_deeper
\begin_layout Paragraph
Files requiring modification
\end_layout

\begin_layout Itemize
mysql/config/ac-macros/character_sets.m4
\end_layout

\begin_layout Itemize
mysql/mysys/charset-def.c
\end_layout

\begin_layout Itemize
mysql/strings/ctype-uca.c
\end_layout

\begin_layout Itemize
mysql/configure (generated)
\end_layout

\begin_layout Itemize
mysql/mysql-test/t/ctype_utf8.test
\end_layout

\begin_layout Itemize
mysql/mysql-test/r/ctype_utf8.result
\end_layout

\begin_layout Paragraph
Patch
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "mysql-dfsg-5.0-5.0.27-sinhala1.patch"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/patches/mysql-dfsg-5.0-5.0.27-sinhala1.patch?root=sinhala"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "mysql-dfsg-5.0-5.0.32-sinhala2.patch"
target "http://cvs.savannah.nongnu.org/viewcvs/*checkout*/sinhala/patches/mysql-dfsg-5.0-5.0.32-sinhala2.patch?root=sinhala"

\end_inset


\end_layout

\begin_layout Subsection
Locales
\begin_inset LatexCommand label
name "Dev-Locales"

\end_inset


\end_layout

\begin_layout Subsubsection
Debian 4.0
\end_layout

\begin_layout Standard
The supported locales are listed in the file:
\end_layout

\begin_layout Code
/usr/share/i18n/SUPPORTED
\end_layout

\begin_layout Standard
The locale definition is available in:
\end_layout

\begin_layout Code
/usr/share/i18n/locales/
\end_layout

\begin_layout Standard
These files are provided by the 
\emph on
locales
\emph default
 package.
 
\end_layout

\begin_layout Standard
The locale definitions need to be compiled before before they can be used.
 To compile a particular locale, first edit:
\end_layout

\begin_layout Code

\end_layout

\begin_layout Code
/etc/locale.gen
\end_layout

\begin_layout Standard
Then run the program:
\end_layout

\begin_layout Code
/usr/sbin/locale-gen
\end_layout

\begin_layout Standard
Following that step you can then see what a particular program looks like
 when it is localised:
\end_layout

\begin_layout Code
LANG=si_LK.UTF-8 gedit
\end_layout

\begin_layout Code
LANG=fr_FR.UTF-8 gedit
\end_layout

\begin_layout Standard
The actual translated message strings are stored in:
\end_layout

\begin_layout Code
/usr/share/locale/<ISO639 2 character lang code>/LC_MESSAGES/
\end_layout

\begin_layout Standard
Each program adds a file containing translated message strings.
\end_layout

\begin_layout Standard
The default locale is set in the file:
\end_layout

\begin_layout Code
/etc/default/locale
\end_layout

\begin_layout Code

\end_layout

\begin_layout Subsection
Translations
\begin_inset LatexCommand label
name "Dev-Translations"

\end_inset


\end_layout

\begin_layout Subsubsection
GNOME
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand url
name "http://developer.gnome.org/projects/gtp/l10n-guide/"
target "http://developer.gnome.org/projects/gtp/l10n-guide/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand url
name "http://developer.gnome.org/doc/tutorials/gnome-i18n/translator.html"
target "http://developer.gnome.org/doc/tutorials/gnome-i18n/translator.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://developer.gnome.org/projects/gtp/teams.html"
target "http://developer.gnome.org/projects/gtp/teams.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://l10n.gnome.org/languages/si/"
target "http://l10n.gnome.org/languages/si/"

\end_inset


\end_layout

\begin_layout Subsubsection
KDE
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "KDE Localization"
target "http://i18n.kde.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://l10n.kde.org/team-infos.php?teamcode=si"
target "http://l10n.kde.org/team-infos.php?teamcode=si"

\end_inset


\end_layout

\begin_layout Subsubsection
Ubuntu
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://translations.launchpad.net/ubuntu/gutsy/+lang/si"
target "https://translations.launchpad.net/ubuntu/gutsy/+lang/si"

\end_inset


\end_layout

\begin_layout Subsubsection
Fedora Core
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://i18n.redhat.com/cgi-bin/i18n-status"
target "http://i18n.redhat.com/cgi-bin/i18n-status"

\end_inset


\end_layout

\begin_layout Subsection
Packaging
\begin_inset LatexCommand label
name "Dev-Packaging"

\end_inset


\end_layout

\begin_layout Subsubsection
Debian
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Debian Developers' Corner"
target "http://www.debian.org/devel/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Debian New Maintainers' Guide"
target "http://www.debian.org/doc/maint-guide/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Debian Developer's Reference"
target "http://www.debian.org/doc/developers-reference/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Debian Policy Manual"
target "http://www.debian.org/doc/debian-policy/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Debian Library Packaging guide"
target "http://www.netfort.gr.jp/~dancer/column/libpkg-guide/libpkg-guide.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Work-Needing and Prospective Packages"
target "http://www.debian.org/devel/wnpp/"

\end_inset


\end_layout

\begin_layout Itemize
To understand issues involving 
\emph on
config.guess
\emph default
 and 
\emph on
config.sub
\emph default
, refer to /usr/share/doc/autotools-dev/README.Debian.gz .
\end_layout

\begin_layout Itemize
In 
\emph on
debian/rules
\emph default
, for the target 
\emph on
binary-arch
\emph default
, you'll probably have to uncomment 
\emph on
dh_install
\emph default
.
 Or you can just change the 
\emph on
DESTDIR
\emph default
 of:
\end_layout

\begin_deeper
\begin_layout Code
$(MAKE) DESTDIR=$(CURDIR)/debian/tmp install
\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "pbuilder"
target "http://www.netfort.gr.jp/~dancer/software/pbuilder-doc/pbuilder-doc.html"

\end_inset


\end_layout

\begin_layout Itemize
To extract the content of a .deb file:
\end_layout

\begin_deeper
\begin_layout Code
ar -x <name>.deb
\end_layout

\end_deeper
\begin_layout Itemize
To create a Debianized source tree from a Debian source package:
\end_layout

\begin_deeper
\begin_layout Code
dpkg-source -x <name>.dsc
\end_layout

\end_deeper
\begin_layout Itemize
To generate a .deb from within a Debianized source tree:
\end_layout

\begin_deeper
\begin_layout Code
dpkg-buildpackage -b -uc -us
\end_layout

\end_deeper
\begin_layout Itemize
To generate the .dsc and the .diff.gz run:
\end_layout

\begin_deeper
\begin_layout Code
dpkg-source -b <dir>
\end_layout

\begin_layout Standard
on the untarred Debianized source tree.
 Remember to leave the renamed original source tarball of the package in
 the parent directory.
\end_layout

\end_deeper
\begin_layout Itemize
Don't forget to sign the source package:
\end_layout

\begin_deeper
\begin_layout Code
debsign -m<maintainer> <name>.dsc
\end_layout

\end_deeper
\begin_layout Itemize
irc.oftc.net, channel #debian-mentors
\end_layout

\begin_layout Subsubsection
Ubuntu
\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Packaging Guide"
target "https://wiki.ubuntu.com/PackagingGuide"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "MOTU/Packages/New"
target "https://wiki.ubuntu.com/MOTU/Packages/New"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "pbuilder HOWTO"
target "https://wiki.ubuntu.com/PbuilderHowto"

\end_inset


\end_layout

\begin_layout Subsection
DONE
\begin_inset LatexCommand label
name "Dev-DONE"

\end_inset


\end_layout

\begin_layout Itemize
Renderer (Layout Engine)
\end_layout

\begin_deeper
\begin_layout Itemize
Pango
\end_layout

\begin_deeper
\begin_layout Itemize
Create and submit Pango patch - don't implicitly create conjuncts
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=161981"
target "http://bugzilla.gnome.org/show_bug.cgi?id=161981"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Inform bengalinux-core team the implications of the fix to Pango Bug 145233
 – Zero-width non-joiner is displayed (
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=145233"
target "http://bugzilla.gnome.org/show_bug.cgi?id=145233"

\end_inset

).
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.mail-archive.com/bengalinux-core@lists.sourceforge.net/msg00502.html"
target "http://www.mail-archive.com/bengalinux-core@lists.sourceforge.net/msg00502.html"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Create and submit Pango patch - Enable touching letters in Sinhala rendering
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=302577"
target "http://bugzilla.gnome.org/show_bug.cgi?id=302577"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Create and submit Pango patch - Worst case expansion for Sinhala
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=385321"
target "http://bugzilla.gnome.org/show_bug.cgi?id=385321"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Create and submit Pango patch - Cursor positioning for Sinhala is broken
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=451682"
target "http://bugzilla.gnome.org/show_bug.cgi?id=451682"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Create and submit Pango patch - Remove SF_MPRE_FIXUP from Sinhala script
 flags
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=536017"
target "http://bugzilla.gnome.org/show_bug.cgi?id=536017"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
ICU
\end_layout

\begin_deeper
\begin_layout Itemize
Provide test files and images for ICU Sinhala support
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/4298"
target "http://bugs.icu-project.org/trac/ticket/4298"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Convince Pango and ICU maintainers to emit ZWJ to the font lookup stage.
\end_layout

\begin_deeper
\begin_layout Itemize
ICU: ZWJ Processing in Sinhala / Implement PR 37 ZWJ/ZWNJ Behavior
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/4710"
target "http://bugs.icu-project.org/trac/ticket/4710"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/4711"
target "http://bugs.icu-project.org/trac/ticket/4711"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Find ICU bug - Indic Reordering State Table Allows ZWJ Virama ZWJ
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/5057"
target "http://bugs.icu-project.org/trac/ticket/5057"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Port Pango patches, which add Sinhala support, to ICU for immediate use
 in ICU 3.4
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.redhat.com/archives/fedora-cvs-commits/2006-May/msg00126.html"
target "http://www.redhat.com/archives/fedora-cvs-commits/2006-May/msg00126.html"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Create and submit ICU patch - SF_MPRE_FIXUP causing conjuncts to be split
 in Sinhala
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.icu-project.org/trac/ticket/6232"
target "http://bugs.icu-project.org/trac/ticket/6232"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Open Office
\end_layout

\begin_deeper
\begin_layout Itemize
Discovered Open Office was filtering ZWJ
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://mail.lug.lk/lurker/message/20060410.130454.19cefb01.en.html"
target "http://mail.lug.lk/lurker/message/20060410.130454.19cefb01.en.html"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Convince Open Office developers to stop filtering ZWJ and ZWNJ - ZWJ: The
 zero width joiner shouldn't be filtered out
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand url
name "http://qa.openoffice.org/issues/show_bug.cgi?id=68047"
target "http://qa.openoffice.org/issues/show_bug.cgi?id=68047"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Inform of Open Office filtering ZWJ and ZWNJ - Incorrect Bengali rendering
 of ra+japhala
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://launchpad.net/distros/debian/+source/icu/+bug/35085"
target "https://launchpad.net/distros/debian/+source/icu/+bug/35085"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Inform Debian of Open Office bug - The zero width joiner shouldn't be filtered
 out 
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=403275"
target "http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=403275"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Create and submit Epiphany patch - Add si (Sinhala) to the list of locales
 requiring Pango
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugzilla.gnome.org/show_bug.cgi?id=361538"
target "http://bugzilla.gnome.org/show_bug.cgi?id=361538"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Create and submit Ubuntu Firefox patch - Add si (Sinhala) to the list of
 locales requiring Pango
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://launchpad.net/distros/ubuntu/+source/firefox/+bug/66270/"
target "https://launchpad.net/distros/ubuntu/+source/firefox/+bug/66270/"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Input Methods
\end_layout

\begin_deeper
\begin_layout Itemize
Submit XKB keyboard layout to X Keyboard Configuration Database
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://listserv.bat.ru/xkb/Message/320.html"
target "http://listserv.bat.ru/xkb/Message/320.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.freedesktop.org/show_bug.cgi?id=11284"
target "http://bugs.freedesktop.org/show_bug.cgi?id=11284"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Submit vim keyboard layout to Bram
\end_layout

\begin_layout Itemize
Submit XKB keyboard layout to xorg
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://bugs.freedesktop.org/show_bug.cgi?id=1850"
target "https://bugs.freedesktop.org/show_bug.cgi?id=1850"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Submit XKB keyboard layout to xfree86
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.xfree86.org/show_bug.cgi?id=1509"
target "http://bugs.xfree86.org/show_bug.cgi?id=1509"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Submit phonetic static keyboard layout to m17n
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.linux.lk/lurker/message/20060906.191738.e7c770f0.en.html"
target "http://www.linux.lk/lurker/message/20060906.191738.e7c770f0.en.html"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Test and provide feedback on the m17n Wijesekera input method.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.linux.lk/lurker/message/20060926.124636.9781ef2e.en.html"
target "http://www.linux.lk/lurker/message/20060926.124636.9781ef2e.en.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://sourceforge.net/mailarchive/message.php?msg_id=1164580258.4822.9.camel%40B1.HOME"
target "http://sourceforge.net/mailarchive/message.php?msg_id=1164580258.4822.9.camel%40B1.HOME"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://sourceforge.net/mailarchive/message.php?msg_name=1174588315.5255.187.camel%40localhost"
target "http://sourceforge.net/mailarchive/message.php?msg_name=1174588315.5255.187.camel%40localhost"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Update XKB keyboard layout
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://bugs.freedesktop.org/show_bug.cgi?id=11284"
target "https://bugs.freedesktop.org/show_bug.cgi?id=11284"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Sync m17n-contrib from Debian to Ubuntu
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "https://bugs.launchpad.net/ubuntu/+bug/129952"
target "https://bugs.launchpad.net/ubuntu/+bug/129952"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Developed Sinhala Phonetic keyboard layouts and a Transliteration scheme.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_3.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_4.html"
target "http://www.nongnu.org/sinhala/doc/keymaps/sinhala-keyboard_4.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.nongnu.org/sinhala/doc/transliteration/sinhala-transliteration_5.html"
target "http://www.nongnu.org/sinhala/doc/transliteration/sinhala-transliteration_5.html"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Implemented phonetic and transliteration input methods for m17n.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://cvs.m17n.org/viewcvs/m17n/m17n-contrib/im/si-phonetic-dynamic.mim?view=log"
target "http://cvs.m17n.org/viewcvs/m17n/m17n-contrib/im/si-phonetic-dynamic.mim?view=log"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://cvs.m17n.org/viewcvs/m17n/m17n-contrib/im/si-phonetic-static.mim?view=log"
target "http://cvs.m17n.org/viewcvs/m17n/m17n-contrib/im/si-phonetic-static.mim?view=log"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://cvs.m17n.org/viewcvs/m17n/m17n-contrib/im/si-trans.mim?view=log"
target "http://cvs.m17n.org/viewcvs/m17n/m17n-contrib/im/si-trans.mim?view=log"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Fonts
\end_layout

\begin_deeper
\begin_layout Itemize
Discovered that the printing problem was due to the font being an OTF font.
 Once the LKLUG font was changed to a TTF, the printing problem disappeared.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.lug.lk/lurker/message/20050810.094347.8539b8d4.en.html"
target "http://www.lug.lk/lurker/message/20050810.094347.8539b8d4.en.html"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Added a glyph for 
\begin_inset Quotes eld
\end_inset

Kunddaliya
\begin_inset Quotes erd
\end_inset

 to LKLUG font.
\end_layout

\begin_layout Itemize
Reorganised glyphs containing 
\begin_inset Quotes eld
\end_inset

Repaya
\begin_inset Quotes erd
\end_inset

 and added corresponding lookups to LKLUG font.
\end_layout

\end_deeper
\begin_layout Itemize
Standards
\end_layout

\begin_deeper
\begin_layout Itemize
Amended ISO639 to include 'Sinhala' in the languages list alongside 'Sinhalese'.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://www.loc.gov/standards/iso639-2/php/code_list.php"
target "http://www.loc.gov/standards/iso639-2/php/code_list.php"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Reported errors in the SCCII - Part 1: Collation Sequence (SLS1134)
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://sourceforge.net/mailarchive/message.php?msg_id=1163523215.5225.19.camel%40B1.HOME"
target "http://sourceforge.net/mailarchive/message.php?msg_id=1163523215.5225.19.camel%40B1.HOME"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Collation
\end_layout

\begin_deeper
\begin_layout Itemize
Add Sinhala script (Sri Lanka) collation to MySQL
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://bugs.mysql.com/bug.php?id=26474"
target "http://bugs.mysql.com/bug.php?id=26474"

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Subsection
TODO
\begin_inset LatexCommand label
name "Dev-TODO"

\end_inset


\end_layout

\begin_layout Itemize
Renderer (Layout Engine)
\end_layout

\begin_deeper
\begin_layout Itemize
Support touching letters in QT Renderer.
\end_layout

\begin_layout Itemize
Pango tries to display a 25CC, which is a dotted circle, when a dependent
 vowel is displayed without a consonant.
 However the glyph for 25CC does not appear.
\end_layout

\begin_layout Itemize
see chapter 9 of TUS Unicode - apparently discusses ZWJ/ZWNJ.
\end_layout

\begin_layout Itemize
What does Thunderbird use for rendering?
\end_layout

\begin_layout Itemize
Is Firefox 3 filtering ZWJ?
\end_layout

\end_deeper
\begin_layout Itemize
Input Methods
\end_layout

\begin_deeper
\begin_layout Itemize
See if XKB can be extended to allow multiple codepoints per keycode.
\end_layout

\end_deeper
\begin_layout Itemize
Fonts
\end_layout

\begin_deeper
\begin_layout Itemize
Learn about OT features/order.
\end_layout

\begin_layout Itemize
Discover why the appearance of the Unicode Sinhala fonts deteriorate at
 smaller sizes.
 Is it a smoothing or hinting issue in the font.
 Or an issue with the renderers.
\end_layout

\begin_layout Itemize
Improve the range and correctness of the Unicode Sinhala section in the
 freefont.
\end_layout

\begin_layout Itemize
Develop a standard lookup table for font developers.
\end_layout

\end_deeper
\begin_layout Itemize
Sorting
\end_layout

\begin_deeper
\begin_layout Itemize
Implement established standards
\end_layout

\begin_layout Itemize
String matching - a consonant followed by dependent vowel 'o' should not
 match the same consonant followed by dependent vowel 'oo'.
\end_layout

\begin_layout Itemize
Can the DUCET be updated with the correct Sinhala collation sequence?
\end_layout

\begin_layout Itemize
MySQL Sinhala locale needed.
\end_layout

\end_deeper
\begin_layout Itemize
Other GNU/Linux Infrastructure
\end_layout

\begin_deeper
\begin_layout Itemize
Add Sinhala to /usr/include/X11/keysymdef.h
\end_layout

\begin_layout Itemize
OTF printing problem.
\end_layout

\end_deeper
\begin_layout Itemize
Printing
\end_layout

\begin_deeper
\begin_layout Itemize
Firefox & Thunderbird can't print Sinhala.
\end_layout

\end_deeper
\begin_layout Itemize
Misc
\end_layout

\begin_deeper
\begin_layout Itemize
Submit corrections to Unicode.
 e.g.
 aae Vs aee.
\end_layout

\begin_layout Itemize
UTF-8 should be declared the standard file encoding.
\end_layout

\begin_layout Itemize
Develop Sinhala IPA transliteration for documents
\end_layout

\begin_layout Itemize
Develop Sinhala literary transliteration for documents
\end_layout

\begin_layout Itemize
English Locale for Sri Lanka
\end_layout

\end_deeper
\begin_layout Section
Resources
\begin_inset LatexCommand label
name "Resources"

\end_inset


\end_layout

\begin_layout Subsection
Input Methods
\begin_inset LatexCommand label
name "Res-Input-Methods"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "gtk-im-extra"
target "http://gtk-im-extra.sourceforge.net/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "GSwitchIt"
target "http://gswitchit.sourceforge.net/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "OpenI18N.org: IIIMF project"
target "http://www.openi18n.org/modules.php?op=modload&name=Sections&file=index&req=viewarticle&artid=30&page=1"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Smart Common Input Method Platform"
target "http://www.scim-im.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "X Keyboard Configuration Database"
target "http://freedesktop.org/wiki/Software/XKeyboardConfig"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "X Keyboard Extension"
target "http://pascal.tsu.ru/en/xkb/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "An Unreliable Guide to XKB Configuration"
target "http://www.charvolant.org/~doug/xkb/html/index.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "The XKB Configuration Guide"
target "http://xfree86.org/4.4.0/XKB-Config.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "How to further enhance XKB configuration"
target "http://xfree86.org/4.4.0/XKB-Enhancing.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Creating custom keyboard layouts for X11 using XKB"
target "http://www.linux.com/article.pl?sid=04/06/03/1558258"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "How to setup international keyboard in X Window with Xmodmap and XKB"
target "http://www.tldp.org/HOWTO/Intkeyb/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Some hints about xmodmap(1) and the X11 keyboard model"
target "http://www.in-ulm.de/~mascheck/X11/xmodmap.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Using XMODMAP to modify key and mouse actions"
target "http://web.mit.edu/answers/xwindows/xwindows_xmodmap.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "XKeyCaps"
target "http://www.jwz.org/xkeycaps/"

\end_inset


\end_layout

\begin_layout Subsection
Internationalisation
\begin_inset LatexCommand label
name "Res-Internationalisation"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Internationalization (I18n), Localization (L10n), Standards, and Amusements"
target "http://www.i18nguy.com/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "OpenI18N.org: The Free standards Group Open Internationalization Initiative"
target "http://www.openi18n.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "The Locale Data Markup Language Specification"
target "http://www.openi18n.org/specs/ldml/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Pango"
target "http://www.pango.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "International Components for Unicode"
target "http://icu.sourceforge.net/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Gtranslator"
target "http://gtranslator.sourceforge.net/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "m17n"
target "http://www.m17n.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "gucharmap"
target "http://gucharmap.sourceforge.net/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Yudit"
target "http://www.yudit.org/"

\end_inset


\end_layout

\begin_layout Subsection
Localisation
\begin_inset LatexCommand label
name "Res-Localisation"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "PAN - Guide to Localization of Open Source Software"
target "http://www.panl10n.net/english/outputs/GLOSS.pdf"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Ankur - Supporting Bangla (Bengali) on GNU/Linux"
target "http://www.bengalinux.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand url
name "indLinuX"
target "http://www.indlinux.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Thai Language Supports"
target "http://linux.thai.net/~thep/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "ZzzThai"
target "http://www.fedu.uec.ac.jp/ZzzThai/"

\end_inset


\end_layout

\begin_layout Subsection
Sinhala
\begin_inset LatexCommand label
name "Res-Sinhala"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Sinhala HOWTO, Keyboard Layouts and Transliteration Schemes"
target "http://www.nongnu.org/sinhala/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "UCSC: Language Technology Research Lab"
target "http://www.ucsc.cmb.ac.lk/ltrl/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "http://sinhala.sourceforge.net"
target "http://sinhala.sourceforge.net"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "sinhala_tex"
target "http://www.ctan.org/tex-archive/language/sinhala/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Unicode Compatible Fonts for Sinhala and Tamil"
target "http://www.fonts.lk/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Sinhala Language Kit for Mac OS X"
target "http://www.xenotypetech.com/osxSinhala.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Microimage: Helawadana"
target "http://www.microimage.com/helawadana/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Sinhala fonts"
target "http://cg.scs.carleton.ca/~luc/sinhala.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Proposal for encoding the Sinhala script in ISO/IEC 10646"
target "http://www.evertype.com/standards/si/si.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Mapping of Sinhala between ISO/IEC 10646 and SLS 1134"
target "http://www.evertype.com/standards/si/iso10646-to-sls1134.html"

\end_inset


\end_layout

\begin_layout Subsection
Typography
\begin_inset LatexCommand label
name "Res-Typography"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "TrueType Typography: Info about TTF Fonts and Technology"
target "http://www.truetype-typography.com/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Microsoft Typography"
target "http://www.microsoft.com/typography/default.mspx"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Introduction to OpenType"
target "http://www.adobe.com/type/opentype/index.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "scripts.sil.org: Computers and Writing Systems"
target "http://scripts.sil.org/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "TrueType/OpenType Tools"
target "http://home.kabelfoon.nl/~slam/fonts/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "FontForge"
target "http://fontforge.sourceforge.net/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name " Converting a legacy ASCII based Indic font to an Unicode compliant Open Type Font"
target "http://sayamindu.randomink.org/conv_guide/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "TTX/FontTools"
target "http://sourceforge.net/projects/fonttools/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Xfree86.org: fonts"
target "http://www.xfree86.org/current/fonts.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "FreeType2 Font Engine Documentation"
target "http://www.freetype.org/freetype2/documentation.html"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand url
name "Free UCS Outline Fonts"
target "http://www.nongnu.org/freefont/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "The GNU Unicode Font Project"
target "http://tech.groups.yahoo.com/group/gnu-unifont/"

\end_inset


\end_layout

\begin_layout Subsection
Unicode
\begin_inset LatexCommand label
name "Res-Unicode"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "Script Encoding Initiative"
target "http://www.linguistics.berkeley.edu/~dwanders/"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset LatexCommand htmlurl
name "unicode@unicode.org mail archive"
target "http://www.mail-archive.com/unicode@unicode.org/"

\end_inset


\end_layout

\begin_layout Section
Conclusion
\begin_inset LatexCommand label
name "Conclusion"

\end_inset


\end_layout

\begin_layout Standard
We have made significant progress in adding Sinhala support to GNU/Linux,
 however, there are still areas that require attention.
 The level of Sinhala support in GNU/Linux is more than adequate for deployment
 in Sri Lanka.
\end_layout

\end_body
\end_document
